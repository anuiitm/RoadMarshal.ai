{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/anubhav/Desktop/Me/Projects/RoadMarshal_AI/frontend/src/app/api/backend.ts"],"sourcesContent":["// frontend/src/app/api/backend.ts\nimport axios from \"axios\";\n\nconst API_BASE = \"http://localhost:8000\";\n\nexport interface CatalogResponse {\n  success: boolean;\n  catalog: any;\n}\n\nexport interface ProcessResponse {\n  success: boolean;\n  data?: { answer: string; retrieved: any[] };\n  error?: string;\n}\n\nexport interface ParseResponse {\n  success: boolean;\n  parsed?: any;\n  raw?: string;\n  error?: string;\n}\n\nexport async function fetchCatalog(): Promise<any | null> {\n  const res = await axios.get<CatalogResponse>(`${API_BASE}/catalog`);\n  if (res.data?.success && res.data.catalog) {\n    if (typeof res.data.catalog === 'string') {\n      return JSON.parse(res.data.catalog);\n    } else {\n      return res.data.catalog;\n    }\n  }\n  return null;\n}\n\nexport async function sendQuery(text: string, top_k = 4): Promise<ProcessResponse> {\n  const res = await axios.post<ProcessResponse>(`${API_BASE}/process`, { text, top_k });\n  return res.data;\n}\n\nexport async function parseQuery(text: string): Promise<ParseResponse> {\n  const res = await axios.post<ParseResponse>(`${API_BASE}/parse`, { text });\n  return res.data;\n}\nexport async function processQuery(finalPrompt: string) {\n  const res = await fetch(\"http://127.0.0.1:8000/process\", {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify({ text: finalPrompt })\n  });\n  return res.json();\n}\n\n"],"names":[],"mappings":"AAAA,kCAAkC;;;;;;;;;;;AAClC;;AAEA,MAAM,WAAW;AAoBV,eAAe;IACpB,MAAM,MAAM,MAAM,+JAAK,CAAC,GAAG,CAAkB,GAAG,SAAS,QAAQ,CAAC;IAClE,IAAI,IAAI,IAAI,EAAE,WAAW,IAAI,IAAI,CAAC,OAAO,EAAE;QACzC,IAAI,OAAO,IAAI,IAAI,CAAC,OAAO,KAAK,UAAU;YACxC,OAAO,KAAK,KAAK,CAAC,IAAI,IAAI,CAAC,OAAO;QACpC,OAAO;YACL,OAAO,IAAI,IAAI,CAAC,OAAO;QACzB;IACF;IACA,OAAO;AACT;AAEO,eAAe,UAAU,IAAY,EAAE,QAAQ,CAAC;IACrD,MAAM,MAAM,MAAM,+JAAK,CAAC,IAAI,CAAkB,GAAG,SAAS,QAAQ,CAAC,EAAE;QAAE;QAAM;IAAM;IACnF,OAAO,IAAI,IAAI;AACjB;AAEO,eAAe,WAAW,IAAY;IAC3C,MAAM,MAAM,MAAM,+JAAK,CAAC,IAAI,CAAgB,GAAG,SAAS,MAAM,CAAC,EAAE;QAAE;IAAK;IACxE,OAAO,IAAI,IAAI;AACjB;AACO,eAAe,aAAa,WAAmB;IACpD,MAAM,MAAM,MAAM,MAAM,iCAAiC;QACvD,QAAQ;QACR,SAAS;YAAE,gBAAgB;QAAmB;QAC9C,MAAM,KAAK,SAAS,CAAC;YAAE,MAAM;QAAY;IAC3C;IACA,OAAO,IAAI,IAAI;AACjB"}},
    {"offset": {"line": 61, "column": 0}, "map": {"version":3,"sources":["file:///Users/anubhav/Desktop/Me/Projects/RoadMarshal_AI/frontend/src/app/utils/prompt.ts"],"sourcesContent":["export type Row = { problems: string[]; speed?: string; notes?: string };\nexport type TypeState = { rows: Row[] };\nexport type CategoryState = { [typeName: string]: TypeState };\nexport type AppState = Record<string, CategoryState>;\n\nexport function generateHumanPrompt(state: AppState, customParsedPrompt?: string | null): string {\n  if (!state || Object.keys(state).length === 0) {\n    if (customParsedPrompt) {\n      return customParsedPrompt;\n    }\n    return \"\";\n  }\n  const parts: string[] = [];\n  for (const category of Object.keys(state)) {\n    const types = state[category];\n    if (!types || Object.keys(types).length === 0) continue;\n    parts.push(`**${category}**`);\n    \n    for (const issueName of Object.keys(types)) {\n      const typeState = types[issueName];\n      if (!typeState.rows || typeState.rows.length === 0) continue;\n      parts.push(`    **Issue:** ${issueName}`);\n      for (const r of typeState.rows) {\n        if (r.problems && r.problems.length > 0) {\n          const subtypes = r.problems.join(\", \");\n          parts.push(`        **Subtypes**: ${subtypes}`);\n        }\n        if (r.speed) {\n          parts.push(`        **Road Speed Limit:** ${r.speed}`);\n        }\n        if (r.notes) {\n          parts.push(`        **Notes:** ${r.notes}`);\n        }\n      }\n    }\n    parts.push(\"\\n\");\n  }\n  if (customParsedPrompt) {\n    parts.push(\"**Custom Query:**\");\n    const customLines = customParsedPrompt.split('\\n');\n    customLines.forEach(line => {\n      parts.push(`    ${line}`);\n    });\n  }\n  return parts.join(\"\\n\");\n}\n\n\nexport function generateLLMPrompt(state: AppState, customParsedPrompt?: string | null): string {\n  const header = `Please recommend road safety interventions for the following issues. Use only retrieved context and cite clauses exactly as provided. Do not hallucinate clause numbers. Output in markdown.`;\n  const bodyParts: string[] = [];\n  for (const category of Object.keys(state)) {\n    const types = state[category];\n    if (!types || Object.keys(types).length === 0) continue;\n    for (const typeName of Object.keys(types)) {\n      const typeState = types[typeName];\n      if (!typeState.rows || typeState.rows.length === 0) continue;\n      const rowsText = typeState.rows.map((r) => {\n        const probs = r.problems && r.problems.length ? r.problems.join(\" | \") : \"\";\n        const speed = r.speed ? ` @${r.speed}` : \"\";\n        const notes = r.notes ? ` (${r.notes})` : \"\";\n        return `${probs}${speed}${notes}`.trim();\n      }).filter(Boolean).join(\" ; \");\n      if (rowsText) {\n        bodyParts.push(`${category} :: ${typeName} :: ${rowsText}`);\n      }\n    }\n  }\n  if (customParsedPrompt) {\n    bodyParts.push(`CUSTOM :: ${customParsedPrompt}`);\n  }\n  const body = bodyParts.join(\"\\n\");\n  return `${header}\\n\\n${body}\\n\\nInstructions: For each issue, provide (1) Issue Summary, (2) Recommended Interventions, (3) Standard & Clause References, (4) Brief Reasoning. Use only retrieved context.`;\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 140, "column": 0}, "map": {"version":3,"sources":["file:///Users/anubhav/Desktop/Me/Projects/RoadMarshal_AI/frontend/src/components/Chip.tsx"],"sourcesContent":["\"use client\";\nimport clsx from \"clsx\";\n\nexport default function Chip({\n  label,\n  selected = false,\n  onClick,\n  className = \"\"\n}: {\n  label: string;\n  selected?: boolean;\n  onClick?: () => void;\n  className?: string;\n}) {\n  return (\n    <button\n      onClick={onClick}\n      className={clsx(\n        \"px-5 py-3 text-base font-semibold rounded-xl border transition-all\",\n        selected\n          ? \"bg-emerald-600 text-white border-emerald-700 shadow\"\n          : \"bg-zinc-200 dark:bg-zinc-700 text-zinc-800 dark:text-zinc-200 border-zinc-300 dark:border-zinc-600 hover:bg-zinc-300 dark:hover:bg-zinc-600\"\n      )}\n    >\n      {label}\n    </button>\n  );\n}\n"],"names":["c","_c","clsx","Chip","t0","$","$i","Symbol","for","label","selected","t1","onClick","className","t2","undefined","t3","t4","t5"],"mappings":";;;;;AAAa,SAAAA,CAAA,IAAAC,EAAA;AACb,OAAOC,IAAI,MAAM,MAAM;AADvB,YAAY;;;;AAGG,cAAAE,EAAA;IAAA,MAAAC,CAAA,OAAAJ,4LAAA,EAAA;IAAA,IAAAI,CAAA,CAAA,EAAA,KAAA,oEAAA;QAAA,IAAA,IAAAC,EAAA,GAAA,GAAAA,EAAA,GAAA,GAAAA,EAAA,IAAA,EAAA;YAAAD,CAAA,CAAAC,EAAA,CAAA,GAAAC,MAAA,CAAAC,GAAA,CAAA;QAAA;QAAAH,CAAA,CAAA,EAAA,GAAA;IAAA;IAAc,MAAA,EAAAI,KAAA,EAAAC,QAAA,EAAAC,EAAA,EAAAC,OAAA,EAAAC,SAAA,EAAAC,EAAAA,EAAA,GAAAV,EAU5B;IARC,MAAAM,QAAA,GAAAC,EAAgB,KAAhBI,SAAgB,GAAhB,KAAgB,GAAhBJ,EAAgB;IAEhBG,EAAc,KAAdC,SAAc,GAAd,EAAc,GAAdD,EAAc;IAYR,MAAAE,EAAA,GAAAN,QAAQ,GAAR,qDAEiJ,GAFjJ,6IAEiJ;IAAA,IAAAO,EAAA;IAAA,IAAAZ,CAAA,CAAA,EAAA,KAAAW,EAAA,EAAA;QAJxIC,EAAA,OAAAf,+JAAI,EACb,oEAAoE,EACpEc,EAGF,CAAC;QAAAX,CAAA,CAAA,EAAA,GAAAW,EAAA;QAAAX,CAAA,CAAA,EAAA,GAAAY,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAZ,CAAA,CAAA,EAAA;IAAA;IAAA,IAAAa,EAAA;IAAA,IAAAb,CAAA,CAAA,EAAA,KAAAI,KAAA,IAAAJ,CAAA,CAAA,EAAA,KAAAO,OAAA,IAAAP,CAAA,CAAA,EAAA,KAAAY,EAAA,EAAA;QAPHC,EAAA,iBAAA,yMAAA,MAUS;YATEN,OAAO,CAAPA,CAAAA,OAAM,CAAC;YACL,SAKV,CALU,CAAAK,EAKX,CAAC,CAEAR;sBAAAA,KAAI,CACP,EAVA,MAUS;;;;;;QAAAJ,CAAA,CAAA,EAAA,GAAAI,KAAA;QAAAJ,CAAA,CAAA,EAAA,GAAAO,OAAA;QAAAP,CAAA,CAAA,EAAA,GAAAY,EAAA;QAAAZ,CAAA,CAAA,EAAA,GAAAa,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAb,CAAA,CAAA,EAAA;IAAA;IAAA,OAVTa,EAUS;AAAA;KAtBEf","ignoreList":[]}},
    {"offset": {"line": 201, "column": 0}, "map": {"version":3,"sources":["file:///Users/anubhav/Desktop/Me/Projects/RoadMarshal_AI/frontend/src/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,qLAAO,EAAC,IAAA,4JAAI,EAAC;AACtB"}},
    {"offset": {"line": 219, "column": 0}, "map": {"version":3,"sources":["file:///Users/anubhav/Desktop/Me/Projects/RoadMarshal_AI/frontend/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost:\n          \"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\n        sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\n        icon: \"size-9\",\n        \"icon-sm\": \"size-8\",\n        \"icon-lg\": \"size-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":["React","Slot","cva","VariantProps","cn","buttonVariants","variants","variant","default","destructive","outline","secondary","ghost","link","size","sm","lg","icon","defaultVariants","Button","t0","$","_c","$i","Symbol","for","className","props","t1","asChild","undefined","Comp","t2","t3"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 334, "column": 0}, "map": {"version":3,"sources":["file:///Users/anubhav/Desktop/Me/Projects/RoadMarshal_AI/frontend/src/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Input({ className, type, ...props }: React.ComponentProps<\"input\">) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        \"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        \"focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]\",\n        \"aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Input }\n"],"names":["React","cn","Input","t0","$","_c","$i","Symbol","for","className","props","type","t1","t2"],"mappings":";;;;;;AAEA,SAASC,EAAE,QAAQ,aAAa;;;;AAEhC,eAAAE,EAAA;IAAA,MAAAC,CAAA,OAAAC,4LAAA,EAAA;IAAA,IAAAD,CAAA,CAAA,EAAA,KAAA,oEAAA;QAAA,IAAA,IAAAE,EAAA,GAAA,GAAAA,EAAA,GAAA,IAAAA,EAAA,IAAA,EAAA;YAAAF,CAAA,CAAAE,EAAA,CAAA,GAAAC,MAAA,CAAAC,GAAA,CAAA;QAAA;QAAAJ,CAAA,CAAA,EAAA,GAAA;IAAA;IAAA,IAAAK,SAAA;IAAA,IAAAC,KAAA;IAAA,IAAAC,IAAA;IAAA,IAAAP,CAAA,CAAA,EAAA,KAAAD,EAAA,EAAA;QAAe,CAAA,EAAAM,SAAA,EAAAE,IAAA,EAAA,GAAAD,OAAA,GAAAP,EAA4D;QAAAC,CAAA,CAAA,EAAA,GAAAD,EAAA;QAAAC,CAAA,CAAA,EAAA,GAAAK,SAAA;QAAAL,CAAA,CAAA,EAAA,GAAAM,KAAA;QAAAN,CAAA,CAAA,EAAA,GAAAO,IAAA;IAAA,OAAA;QAAAF,SAAA,GAAAL,CAAA,CAAA,EAAA;QAAAM,KAAA,GAAAN,CAAA,CAAA,EAAA;QAAAO,IAAA,GAAAP,CAAA,CAAA,EAAA;IAAA;IAAA,IAAAQ,EAAA;IAAA,IAAAR,CAAA,CAAA,EAAA,KAAAK,SAAA,EAAA;QAK1DG,EAAA,GAAAX,4IAAE,EACX,4bAA4b,EAC5b,+EAA+E,EAC/E,wGAAwG,EACxGQ,SACF,CAAC;QAAAL,CAAA,CAAA,EAAA,GAAAK,SAAA;QAAAL,CAAA,CAAA,EAAA,GAAAQ,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAR,CAAA,CAAA,EAAA;IAAA;IAAA,IAAAS,EAAA;IAAA,IAAAT,CAAA,CAAA,EAAA,KAAAM,KAAA,IAAAN,CAAA,CAAA,EAAA,KAAAQ,EAAA,IAAAR,CAAA,CAAA,EAAA,KAAAO,IAAA,EAAA;QARHE,EAAA,iBAAA,yMAAA,KAUE;YATMF,IAAI,CAAJA,CAAAA,IAAG,CAAC;YACA,SAAO,IAAP,OAAO;YACN,SAKV,CALU,CAAAC,EAKX,CAAC;YAAA,GACGF,KAAK,IACT;;;;;;QAAAN,CAAA,CAAA,EAAA,GAAAM,KAAA;QAAAN,CAAA,CAAA,EAAA,GAAAQ,EAAA;QAAAR,CAAA,CAAA,EAAA,GAAAO,IAAA;QAAAP,CAAA,CAAA,GAAA,GAAAS,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAT,CAAA,CAAA,GAAA;IAAA;IAAA,OAVFS,EAUE;AAAA;KAZNX","ignoreList":[]}},
    {"offset": {"line": 406, "column": 0}, "map": {"version":3,"sources":["file:///Users/anubhav/Desktop/Me/Projects/RoadMarshal_AI/frontend/src/lib/computeIssues.ts"],"sourcesContent":["export function computeIssuesForCategory(category: string, catalog: any): string[] {\n  if (!catalog || !catalog[category]) return [];\n\n  const allIssues = new Set<string>();\n\n  Object.values(catalog[category]).forEach((sub: any) => {\n    if (sub.problems && Array.isArray(sub.problems)) {\n      sub.problems.forEach((p: string) => allIssues.add(p));\n    }\n  });\n\n  return Array.from(allIssues);\n}\n"],"names":[],"mappings":";;;;AAAO,SAAS,yBAAyB,QAAgB,EAAE,OAAY;IACrE,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,SAAS,EAAE,OAAO,EAAE;IAE7C,MAAM,YAAY,IAAI;IAEtB,OAAO,MAAM,CAAC,OAAO,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC;QACxC,IAAI,IAAI,QAAQ,IAAI,MAAM,OAAO,CAAC,IAAI,QAAQ,GAAG;YAC/C,IAAI,QAAQ,CAAC,OAAO,CAAC,CAAC,IAAc,UAAU,GAAG,CAAC;QACpD;IACF;IAEA,OAAO,MAAM,IAAI,CAAC;AACpB"}},
    {"offset": {"line": 427, "column": 0}, "map": {"version":3,"sources":["file:///Users/anubhav/Desktop/Me/Projects/RoadMarshal_AI/frontend/src/lib/computeSubtypes.ts"],"sourcesContent":["export function computeSubtypesForIssue(category: string, issue: string, catalog: any) {\n  const subtypes = catalog[category] || {};\n  const valid: string[] = [];\n\n  Object.entries(subtypes).forEach(([subtypeName, subtypeObj]: any) => {\n    if (Array.isArray(subtypeObj.problems) && subtypeObj.problems.includes(issue)) {\n      valid.push(subtypeName);\n    }\n  });\n\n  return valid.sort();\n}\n"],"names":[],"mappings":";;;;AAAO,SAAS,wBAAwB,QAAgB,EAAE,KAAa,EAAE,OAAY;IACnF,MAAM,WAAW,OAAO,CAAC,SAAS,IAAI,CAAC;IACvC,MAAM,QAAkB,EAAE;IAE1B,OAAO,OAAO,CAAC,UAAU,OAAO,CAAC,CAAC,CAAC,aAAa,WAAgB;QAC9D,IAAI,MAAM,OAAO,CAAC,WAAW,QAAQ,KAAK,WAAW,QAAQ,CAAC,QAAQ,CAAC,QAAQ;YAC7E,MAAM,IAAI,CAAC;QACb;IACF;IAEA,OAAO,MAAM,IAAI;AACnB"}},
    {"offset": {"line": 448, "column": 0}, "map": {"version":3,"sources":["file:///Users/anubhav/Desktop/Me/Projects/RoadMarshal_AI/frontend/src/app/components/CategoryCard.tsx"],"sourcesContent":["\"use client\";\nimport { useState, useEffect, useRef } from \"react\";\nimport Chip from \"@/components/Chip\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { computeIssuesForCategory } from \"@/lib/computeIssues\";\nimport { computeSubtypesForIssue } from \"@/lib/computeSubtypes\";\nimport type { CategoryState } from \"@/app/utils/prompt\";\nimport { CheckCircle2, Circle, ChevronRight, X, Plus } from \"lucide-react\";\n\ntype Row = {\n  issue: string;\n  subtypes: string[];\n  speed: string;\n  notes: string;\n  openStep: number;\n};\n\nexport default function CategoryCard({\n  id,\n  catalog,\n  value,\n  onChange,\n}: {\n  id: string;\n  catalog: Record<string, unknown> | null;\n  value: CategoryState;\n  onChange: (next: CategoryState) => void;\n}) {\n  const issuesAvailable: string[] = computeIssuesForCategory(id, catalog);\n\n  const categoryStateToRows = (state: CategoryState): Row[] => {\n    const rows: Row[] = [];\n    Object.entries(state).forEach(([issueName, typeState]) => {\n      typeState.rows.forEach((row) => {\n        rows.push({\n          issue: issueName,\n          subtypes: row.problems || [],\n          speed: row.speed || \"\",\n          notes: row.notes || \"\",\n          openStep: 1, \n        });\n      });\n    });\n    return rows.length > 0 ? rows : [{ issue: \"\", subtypes: [], speed: \"\", notes: \"\", openStep: 1 }];\n  };\n\n  const rowsToCategoryState = (rows: Row[]): CategoryState => {\n    const state: CategoryState = {};\n    rows.forEach((row) => {\n      if (!row.issue || row.subtypes.length === 0) return;\n      \n      const issueKey = row.issue;\n      if (!state[issueKey]) {\n        state[issueKey] = { rows: [] };\n      }\n      \n      state[issueKey].rows.push({\n        problems: row.subtypes,\n        speed: row.speed || undefined,\n        notes: row.notes || undefined,\n      });\n    });\n    return state;\n  };\n\n  const [rows, setRows] = useState<Row[]>(() => categoryStateToRows(value || {}));\n  const [lastValue, setLastValue] = useState<string>(() => JSON.stringify(value || {}));\n  const [localInputs, setLocalInputs] = useState<{ [key: number]: { speed: string; notes: string } }>({});\n  const isInternalUpdate = useRef(false);\n\n  useEffect(() => {\n    if (isInternalUpdate.current) {\n      isInternalUpdate.current = false;\n      return; \n    }\n    \n    const newValueStr = JSON.stringify(value || {});\n    if (newValueStr !== lastValue) {\n      setRows((currentRows) => {\n        const newRows = categoryStateToRows(value || {});\n        const preservedRows = newRows.map((newRow) => {\n          const matchingRow = currentRows.find(\n            (r) => r.issue === newRow.issue && \n                   JSON.stringify(r.subtypes.sort()) === JSON.stringify(newRow.subtypes.sort()) &&\n                   r.speed === newRow.speed &&\n                   r.notes === newRow.notes\n          );\n          if (matchingRow && matchingRow.openStep) {\n            return { ...newRow, openStep: matchingRow.openStep };\n          }\n          return newRow;\n        });\n        return preservedRows;\n      });\n      setLastValue(newValueStr);\n      setLocalInputs({});\n    }\n  }, [value, lastValue]);\n\n  const updateRows = (next: Row[]) => {\n    isInternalUpdate.current = true;\n    setRows(next);\n    onChange(rowsToCategoryState(next));\n  };\n\n  const updateField = (i: number, patch: Partial<Row>) => {\n    const next = [...rows];\n    const oldIssue = next[i].issue;\n    next[i] = { ...next[i], ...patch };\n    if (patch.issue && patch.issue !== oldIssue && oldIssue) {\n      next[i].subtypes = [];\n      next[i].speed = \"\";\n      next[i].notes = \"\";\n      next[i].openStep = 2; \n    }\n    updateRows(next);\n  };\n\n  const addRow = () => {\n    updateRows([\n      ...rows,\n      { issue: \"\", subtypes: [], speed: \"\", notes: \"\", openStep: 1 },\n    ]);\n  };\n\n  const removeRow = (i: number) => {\n    updateRows(rows.filter((_, idx) => idx !== i));\n  };\n\n  const toggleSubtype = (i: number, subtype: string) => {\n    const next = [...rows];\n    const row = next[i];\n\n    row.subtypes = row.subtypes.includes(subtype)\n      ? row.subtypes.filter((x) => x !== subtype)\n      : [...row.subtypes, subtype];\n\n    updateRows(next);\n  };\n\n  const preview = (row: Row) => {\n    if (!row.issue || row.subtypes.length === 0) return \"Incomplete…\";\n    const sub = row.subtypes.join(\" | \");\n    const spd = row.speed ? ` on ${row.speed} road` : \"\";\n    return `${row.issue}: ${sub}${spd}${row.notes ? ` — ${row.notes}` : \"\"}`;\n  };\n\n  if (!catalog || !catalog[id]) {\n    return (\n      <div className=\"w-full bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl p-6 shadow-sm\">\n        <h3 className=\"text-xl font-semibold text-zinc-900 dark:text-zinc-100\">{id}</h3>\n        <p className=\"text-sm text-zinc-500 dark:text-zinc-400 mt-2\">Loading catalog...</p>\n      </div>\n    );\n  }\n\n  const getStepStatus = (row: Row, step: number) => {\n    if (step === 1) return row.issue ? \"complete\" : row.openStep === 1 ? \"active\" : \"pending\";\n    if (step === 2) {\n      if (!row.issue) return \"disabled\";\n      return row.subtypes.length > 0 ? \"complete\" : row.openStep === 2 ? \"active\" : \"pending\";\n    }\n    if (step === 3) {\n      if (!row.issue || row.subtypes.length === 0) return \"disabled\";\n      return row.speed || row.notes ? \"complete\" : row.openStep === 3 ? \"active\" : \"pending\";\n    }\n    if (step === 4) {\n      if (!row.issue || row.subtypes.length === 0) return \"disabled\";\n      return row.openStep === 4 ? \"active\" : \"complete\";\n    }\n    return \"pending\";\n  };\n\n  const getDisplayName = (categoryId: string) => {\n    if (categoryId === \"Traffic Calming Measures\") return \"Traffic Calming\";\n    return categoryId;\n  };\n\n  return (\n    <div className=\"w-full h-full bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl p-5 shadow-sm flex flex-col max-h-[800px]\">\n      <div className=\"flex items-center justify-between mb-4\">\n        <h3 className=\"text-xl font-bold text-zinc-900 dark:text-zinc-100\">{getDisplayName(id)}</h3>\n      </div>\n      <div className=\"flex-1 overflow-y-auto space-y-4 min-h-0\">\n\n      {rows.map((row, i) => {\n        const subtypesAvailable: string[] = row.issue && catalog\n          ? computeSubtypesForIssue(id, row.issue, catalog)\n          : [];\n\n        const step1Status = getStepStatus(row, 1);\n        const step2Status = getStepStatus(row, 2);\n        const step3Status = getStepStatus(row, 3);\n        const step4Status = getStepStatus(row, 4);\n\n        return (\n          <div\n            key={i}\n            className=\"border border-zinc-200 dark:border-zinc-800 rounded-xl p-4 bg-gradient-to-br from-zinc-50 to-white dark:from-zinc-900 dark:to-zinc-800 space-y-4 shadow-sm\"\n          >\n            <div className=\"flex justify-between items-center pb-3 border-b border-zinc-200 dark:border-zinc-800\">\n              <div className=\"flex items-center gap-3\">\n                <div className=\"flex items-center justify-center w-8 h-8 rounded-full bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-400 font-semibold text-sm\">\n                  {i + 1}\n                </div>\n                <span className=\"font-semibold text-base text-zinc-900 dark:text-zinc-100\">Issue #{i + 1}</span>\n              </div>\n\n              {i > 0 && (\n                <Button\n                  variant=\"ghost\"\n                  size=\"sm\"\n                  onClick={() => removeRow(i)}\n                  className=\"text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/20\"\n                >\n                  <X className=\"w-4 h-4 mr-1\" />\n                  Remove\n                </Button>\n              )}\n            </div>\n\n            <div className=\"space-y-2\">\n              <div className=\"flex items-center justify-between\">\n                <div className=\"flex items-center gap-2\">\n                  {step1Status === \"complete\" ? (\n                    <CheckCircle2 className=\"w-4 h-4 text-emerald-600 dark:text-emerald-400\" />\n                  ) : step1Status === \"active\" ? (\n                    <Circle className=\"w-4 h-4 text-emerald-600 dark:text-emerald-400 fill-emerald-600 dark:fill-emerald-400\" />\n                  ) : (\n                    <Circle className=\"w-4 h-4 text-zinc-400 dark:text-zinc-600\" />\n                  )}\n                  <span className=\"font-semibold text-sm text-zinc-900 dark:text-zinc-100\">\n                    1. Select Issue\n                  </span>\n                </div>\n\n                {row.openStep !== 1 && row.issue && (\n                  <Button\n                    variant=\"ghost\"\n                    size=\"sm\"\n                    onClick={() => updateField(i, { openStep: 1 })}\n                    className=\"text-xs h-7\"\n                  >\n                    Edit\n                  </Button>\n                )}\n              </div>\n\n              {row.openStep === 1 ? (\n                <div className=\"pl-6 space-y-2\">\n                  <p className=\"text-xs text-zinc-600 dark:text-zinc-400\">Choose the issue you want to address:</p>\n                  <div className=\"flex flex-wrap gap-2\">\n                    {issuesAvailable.map((iss) => (\n                      <Chip\n                        key={iss}\n                        label={iss}\n                        selected={row.issue === iss}\n                        onClick={() =>\n                          updateField(i, {\n                            issue: iss,\n                            openStep: 2,\n                          })\n                        }\n                      />\n                    ))}\n                  </div>\n                </div>\n              ) : (\n                <div className=\"pl-6\">\n                  {row.issue ? (\n                    <div className=\"inline-flex items-center gap-2 px-3 py-1.5 bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-200 dark:border-emerald-800 rounded-lg\">\n                      <CheckCircle2 className=\"w-3.5 h-3.5 text-emerald-600 dark:text-emerald-400\" />\n                      <span className=\"text-sm font-medium text-emerald-900 dark:text-emerald-100\">{row.issue}</span>\n                    </div>\n                  ) : (\n                    <span className=\"text-sm text-zinc-400 dark:text-zinc-600\">No issue selected</span>\n                  )}\n                </div>\n              )}\n            </div>\n\n            <div className=\"space-y-2\">\n              <div className=\"flex items-center justify-between\">\n                <div className=\"flex items-center gap-2\">\n                  {step2Status === \"complete\" ? (\n                    <CheckCircle2 className=\"w-4 h-4 text-emerald-600 dark:text-emerald-400\" />\n                  ) : step2Status === \"active\" ? (\n                    <Circle className=\"w-4 h-4 text-emerald-600 dark:text-emerald-400 fill-emerald-600 dark:fill-emerald-400\" />\n                  ) : step2Status === \"disabled\" ? (\n                    <Circle className=\"w-4 h-4 text-zinc-300 dark:text-zinc-700\" />\n                  ) : (\n                    <Circle className=\"w-4 h-4 text-zinc-400 dark:text-zinc-600\" />\n                  )}\n                  <span className={`font-semibold text-sm ${\n                    step2Status === \"disabled\" \n                      ? \"text-zinc-400 dark:text-zinc-600\" \n                      : \"text-zinc-900 dark:text-zinc-100\"\n                  }`}>\n                    2. Select Subtypes\n                  </span>\n                </div>\n                {row.openStep !== 2 && row.subtypes.length > 0 && (\n                  <Button\n                    variant=\"ghost\"\n                    size=\"sm\"\n                    onClick={() => updateField(i, { openStep: 2 })}\n                    className=\"text-xs h-7\"\n                  >\n                    Edit\n                  </Button>\n                )}\n              </div>\n\n              {row.openStep === 2 ? (\n                <div className=\"pl-6 space-y-2\">\n                  <p className=\"text-xs text-zinc-600 dark:text-zinc-400\">Select one or more subtypes:</p>\n                  {subtypesAvailable.length === 0 ? (\n                    <div className=\"text-sm text-zinc-500 dark:text-zinc-400 p-2 bg-zinc-100 dark:bg-zinc-800 rounded-lg\">\n                      No subtypes available for this issue.\n                    </div>\n                  ) : (\n                    <>\n                      <div className=\"flex flex-wrap gap-2\">\n                        {subtypesAvailable.map((s) => (\n                          <Chip\n                            key={s}\n                            label={s}\n                            selected={row.subtypes.includes(s)}\n                            onClick={() => toggleSubtype(i, s)}\n                          />\n                        ))}\n                      </div>\n                      {row.subtypes.length > 0 && (\n                        <div className=\"flex justify-end pt-2\">\n                          <Button\n                            onClick={() => {\n                              updateField(i, { openStep: 3 });\n                            }}\n                            size=\"sm\"\n                            className=\"bg-emerald-600 hover:bg-emerald-700 text-white\"\n                          >\n                            Continue\n                            <ChevronRight className=\"w-3.5 h-3.5 ml-1\" />\n                          </Button>\n                        </div>\n                      )}\n                    </>\n                  )}\n                </div>\n              ) : (\n                <div className=\"pl-6\">\n                  {row.subtypes.length > 0 ? (\n                    <div className=\"flex flex-wrap gap-2\">\n                      {subtypesAvailable.length > 0 ? (\n                        subtypesAvailable.map((s) => (\n                          <Chip\n                            key={s}\n                            label={s}\n                            selected={row.subtypes.includes(s)}\n                            onClick={() => toggleSubtype(i, s)}\n                          />\n                        ))\n                      ) : (\n                        row.subtypes.map((s) => (\n                          <div\n                            key={s}\n                            className=\"inline-flex items-center gap-1.5 px-3 py-1.5 bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-200 dark:border-emerald-800 rounded-lg\"\n                          >\n                            <CheckCircle2 className=\"w-3.5 h-3.5 text-emerald-600 dark:text-emerald-400\" />\n                            <span className=\"text-sm font-medium text-emerald-900 dark:text-emerald-100\">{s}</span>\n                          </div>\n                        ))\n                      )}\n                    </div>\n                  ) : (\n                    <span className=\"text-sm text-zinc-400 dark:text-zinc-600\">\n                      {!row.issue ? \"Select an issue first\" : \"No subtypes selected\"}\n                    </span>\n                  )}\n                </div>\n              )}\n            </div>\n\n            <div className=\"space-y-2\">\n              <div className=\"flex items-center justify-between\">\n                <div className=\"flex items-center gap-2\">\n                  {step3Status === \"complete\" ? (\n                    <CheckCircle2 className=\"w-4 h-4 text-emerald-600 dark:text-emerald-400\" />\n                  ) : step3Status === \"active\" ? (\n                    <Circle className=\"w-4 h-4 text-emerald-600 dark:text-emerald-400 fill-emerald-600 dark:fill-emerald-400\" />\n                  ) : step3Status === \"disabled\" ? (\n                    <Circle className=\"w-4 h-4 text-zinc-300 dark:text-zinc-700\" />\n                  ) : (\n                    <Circle className=\"w-4 h-4 text-zinc-400 dark:text-zinc-600\" />\n                  )}\n                  <span className={`font-semibold text-sm ${\n                    step3Status === \"disabled\" \n                      ? \"text-zinc-400 dark:text-zinc-600\" \n                      : \"text-zinc-900 dark:text-zinc-100\"\n                  }`}>\n                    3. Speed & Notes\n                  </span>\n                </div>\n                {row.openStep !== 3 && (row.speed || row.notes) && (\n                  <Button\n                    variant=\"ghost\"\n                    size=\"sm\"\n                    onClick={() => {\n                      setLocalInputs(prev => ({ ...prev, [i]: { speed: row.speed, notes: row.notes } }));\n                      updateField(i, { openStep: 3 });\n                    }}\n                    className=\"text-xs h-7\"\n                  >\n                    Edit\n                  </Button>\n                )}\n              </div>\n\n              {row.openStep === 3 ? (\n                <div className=\"pl-6 space-y-3\">\n                  <p className=\"text-xs text-zinc-600 dark:text-zinc-400\">Add additional details (optional):</p>\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\n                    <div className=\"space-y-1.5\">\n                      <label className=\"text-xs font-medium text-zinc-700 dark:text-zinc-300\">Speed</label>\n                      <Input\n                        value={localInputs[i]?.speed ?? row.speed}\n                        onChange={(e) => {\n                          setLocalInputs(prev => ({ \n                            ...prev, \n                            [i]: { \n                              speed: e.target.value, \n                              notes: prev[i]?.notes ?? row.notes \n                            } \n                          }));\n                        }}\n                        placeholder=\"e.g., 60 km/h\"\n                        className=\"w-full\"\n                      />\n                    </div>\n\n                    <div className=\"space-y-1.5\">\n                      <label className=\"text-xs font-medium text-zinc-700 dark:text-zinc-300\">Notes</label>\n                      <Input\n                        value={localInputs[i]?.notes ?? row.notes}\n                        onChange={(e) => {\n                          setLocalInputs(prev => ({ \n                            ...prev, \n                            [i]: { \n                              speed: prev[i]?.speed ?? row.speed, \n                              notes: e.target.value \n                            } \n                          }));\n                        }}\n                        placeholder=\"Additional information (optional)\"\n                        className=\"w-full\"\n                      />\n                    </div>\n                  </div>\n\n                  <div className=\"flex justify-end pt-1\">\n                    <Button\n                      onClick={() => {\n                        const localSpeed = localInputs[i]?.speed ?? row.speed;\n                        const localNotes = localInputs[i]?.notes ?? row.notes;\n                        updateField(i, { speed: localSpeed, notes: localNotes, openStep: 4 });\n                        setLocalInputs(prev => {\n                          const next = { ...prev };\n                          delete next[i];\n                          return next;\n                        });\n                      }}\n                      size=\"sm\"\n                      className=\"bg-emerald-600 hover:bg-emerald-700 text-white\"\n                    >\n                      Preview\n                      <ChevronRight className=\"w-3.5 h-3.5 ml-1\" />\n                    </Button>\n                  </div>\n                </div>\n              ) : (\n                <div className=\"pl-6\">\n                  {row.speed || row.notes ? (\n                    <div className=\"flex flex-wrap gap-2\">\n                      {row.speed && (\n                        <div className=\"inline-flex items-center gap-2 px-3 py-1.5 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg\">\n                          <span className=\"text-sm font-medium text-blue-900 dark:text-blue-100\">\n                            Speed: {row.speed}\n                          </span>\n                        </div>\n                      )}\n                      {row.notes && (\n                        <div className=\"inline-flex items-center gap-2 px-3 py-1.5 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg\">\n                          <span className=\"text-sm font-medium text-blue-900 dark:text-blue-100\">\n                            Notes: {row.notes}\n                          </span>\n                        </div>\n                      )}\n                    </div>\n                  ) : (\n                    <span className=\"text-sm text-zinc-400 dark:text-zinc-600\">\n                      {step3Status === \"disabled\" ? \"Complete previous steps first\" : \"No speed or notes added\"}\n                    </span>\n                  )}\n                </div>\n              )}\n            </div>\n\n            <div className=\"space-y-2\">\n              <div className=\"flex items-center gap-2\">\n                {step4Status === \"complete\" ? (\n                  <CheckCircle2 className=\"w-4 h-4 text-emerald-600 dark:text-emerald-400\" />\n                ) : step4Status === \"active\" ? (\n                  <Circle className=\"w-4 h-4 text-emerald-600 dark:text-emerald-400 fill-emerald-600 dark:fill-emerald-400\" />\n                ) : step4Status === \"disabled\" ? (\n                  <Circle className=\"w-4 h-4 text-zinc-300 dark:text-zinc-700\" />\n                ) : (\n                  <Circle className=\"w-4 h-4 text-zinc-400 dark:text-zinc-600\" />\n                )}\n                <span className={`font-semibold text-sm ${\n                  step4Status === \"disabled\" \n                    ? \"text-zinc-400 dark:text-zinc-600\" \n                    : \"text-zinc-900 dark:text-zinc-100\"\n                }`}>\n                  4. Preview\n                </span>\n              </div>\n\n              <div className=\"pl-6\">\n                <div className=\"p-3 rounded-lg bg-gradient-to-br from-emerald-50 to-blue-50 dark:from-emerald-900/20 dark:to-blue-900/20 border border-emerald-200 dark:border-emerald-800\">\n                  <p className=\"text-sm font-medium text-zinc-900 dark:text-zinc-100 whitespace-pre-wrap\">\n                    {preview(row)}\n                  </p>\n                </div>\n\n                {row.openStep === 4 && (\n                  <div className=\"mt-3 flex justify-end\">\n                    <Button\n                      onClick={() => updateField(i, { openStep: 1 })}\n                      variant=\"outline\"\n                      size=\"sm\"\n                    >\n                      Edit All\n                    </Button>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        );\n      })}\n\n      </div>\n      \n      <div className=\"pt-4 mt-4 border-t border-zinc-200 dark:border-zinc-800 flex-shrink-0\">\n        <Button\n          onClick={addRow}\n          variant=\"outline\"\n          size=\"sm\"\n          className=\"w-full border-dashed border-2 hover:border-emerald-600 dark:hover:border-emerald-500 hover:bg-emerald-50 dark:hover:bg-emerald-900/20\"\n        >\n          <Plus className=\"w-3.5 h-3.5 mr-2\" />\n          Add Another Issue\n        </Button>\n      </div>\n    </div>\n  );\n}\n"],"names":["c","_c","useState","useEffect","useRef","Chip","Button","Input","computeIssuesForCategory","computeSubtypesForIssue","CategoryState","CheckCircle2","Circle","ChevronRight","X","Plus","Row","issue","subtypes","speed","notes","openStep","CategoryCard","t0","$","$i","Symbol","for","id","catalog","value","onChange","issuesAvailable","categoryStateToRows","_CategoryCardCategoryStateToRows","rowsToCategoryState","_CategoryCardRowsToCategoryState","t1","CategoryCard[useState()]","rows_1","setRows","t2","JSON","stringify","lastValue","setLastValue","t3","localInputs","setLocalInputs","isInternalUpdate","t4","t5","CategoryCard[useEffect()]","current","newValueStr","currentRows","newRows","preservedRows","map","newRow","matchingRow","find","r","sort","updateRows","next","updateField","CategoryCard[updateField]","i","patch","next_0","rows","oldIssue","addRow","CategoryCard[addRow]","removeRow","i_0","filter","CategoryCard[removeRow > rows_1.filter()]","_","idx","toggleSubtype","CategoryCard[toggleSubtype]","i_1","subtype","next_1","row_1","row","includes","x","preview","_CategoryCardPreview","t6","t7","t8","getStepStatus","_CategoryCardGetStepStatus","getDisplayName","_CategoryCardGetDisplayName","t9","t10","CategoryCard[rows_1.map()]","row_4","i_2","subtypesAvailable","step1Status","step2Status","step3Status","step4Status","CategoryCard[rows_1.map() > <Button>.onClick]","iss","CategoryCard[rows_1.map() > issuesAvailable.map() > <Chip>.onClick]","length","s","CategoryCard[rows_1.map() > subtypesAvailable.map() > <Chip>.onClick]","s_0","_CategoryCardRows_1MapRow_4SubtypesMap","prev","e","prev_0","target","e_0","prev_1","localSpeed","localNotes","prev_2","next_2","t11","t12","t13","t14","s_1","categoryId","row_3","step","row_2","sub","join","spd","rows_0","state_0","forEach","row_0","issueKey","state","push","problems","undefined","Object","entries","issueName","typeState"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 1720, "column": 0}, "map": {"version":3,"sources":["file:///Users/anubhav/Desktop/Me/Projects/RoadMarshal_AI/frontend/src/components/ui/textarea.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Textarea({ className, ...props }: React.ComponentProps<\"textarea\">) {\n  return (\n    <textarea\n      data-slot=\"textarea\"\n      className={cn(\n        \"border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Textarea }\n"],"names":["React","cn","Textarea","t0","$","_c","$i","Symbol","for","className","props","t1","t2"],"mappings":";;;;;;AAEA,SAASC,EAAE,QAAQ,aAAa;;;;AAEhC,kBAAAE,EAAA;IAAA,MAAAC,CAAA,OAAAC,4LAAA,EAAA;IAAA,IAAAD,CAAA,CAAA,EAAA,KAAA,oEAAA;QAAA,IAAA,IAAAE,EAAA,GAAA,GAAAA,EAAA,GAAA,GAAAA,EAAA,IAAA,EAAA;YAAAF,CAAA,CAAAE,EAAA,CAAA,GAAAC,MAAA,CAAAC,GAAA,CAAA;QAAA;QAAAJ,CAAA,CAAA,EAAA,GAAA;IAAA;IAAA,IAAAK,SAAA;IAAA,IAAAC,KAAA;IAAA,IAAAN,CAAA,CAAA,EAAA,KAAAD,EAAA,EAAA;QAAkB,CAAA,EAAAM,SAAA,EAAA,GAAAC,OAAA,GAAAP,EAAyD;QAAAC,CAAA,CAAA,EAAA,GAAAD,EAAA;QAAAC,CAAA,CAAA,EAAA,GAAAK,SAAA;QAAAL,CAAA,CAAA,EAAA,GAAAM,KAAA;IAAA,OAAA;QAAAD,SAAA,GAAAL,CAAA,CAAA,EAAA;QAAAM,KAAA,GAAAN,CAAA,CAAA,EAAA;IAAA;IAAA,IAAAO,EAAA;IAAA,IAAAP,CAAA,CAAA,EAAA,KAAAK,SAAA,EAAA;QAI1DE,EAAA,OAAAV,wIAAE,EACX,qcAAqc,EACrcQ,SACF,CAAC;QAAAL,CAAA,CAAA,EAAA,GAAAK,SAAA;QAAAL,CAAA,CAAA,EAAA,GAAAO,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAP,CAAA,CAAA,EAAA;IAAA;IAAA,IAAAQ,EAAA;IAAA,IAAAR,CAAA,CAAA,EAAA,KAAAM,KAAA,IAAAN,CAAA,CAAA,EAAA,KAAAO,EAAA,EAAA;QALHC,EAAA,iBAAA,yMAAA,QAOE;YANU,SAAU,IAAV,UAAU;YACT,SAGV,CAHU,CAAAD,EAGX,CAAC;YAAA,GACGD,KAAK,IACT;;;;;;QAAAN,CAAA,CAAA,EAAA,GAAAM,KAAA;QAAAN,CAAA,CAAA,EAAA,GAAAO,EAAA;QAAAP,CAAA,CAAA,EAAA,GAAAQ,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAR,CAAA,CAAA,EAAA;IAAA;IAAA,OAPFQ,EAOE;AAAA;KATNV","ignoreList":[]}},
    {"offset": {"line": 1787, "column": 0}, "map": {"version":3,"sources":["file:///Users/anubhav/Desktop/Me/Projects/RoadMarshal_AI/frontend/src/app/components/CustomQueryBox.tsx"],"sourcesContent":["\"use client\";\nimport { useState } from \"react\";\nimport React from \"react\";\nimport { parseQuery } from \"../api/backend\";\nimport { Button } from \"@/components/ui/button\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Pencil } from \"lucide-react\";\n\nfunction formatPromptText(text: string): React.ReactNode[] {\n  const parts: React.ReactNode[] = [];\n  const lines = text.split('\\n');\n  let key = 0;\n  \n  lines.forEach((line, idx) => {\n    const boldRegex = /\\*\\*([^*]+)\\*\\*/g;\n    let lastIndex = 0;\n    let match;\n    const lineParts: React.ReactNode[] = [];\n    \n    while ((match = boldRegex.exec(line)) !== null) {\n      if (match.index > lastIndex) {\n        lineParts.push(line.substring(lastIndex, match.index));\n      }\n      lineParts.push(\n        <strong key={`bold-${key++}`} className=\"font-bold text-zinc-900 dark:text-zinc-100\">\n          {match[1]}\n        </strong>\n      );\n      lastIndex = match.index + match[0].length;\n    }\n    \n    if (lastIndex < line.length) {\n      lineParts.push(line.substring(lastIndex));\n    }\n    \n    if (lineParts.length === 0) {\n      lineParts.push(line);\n    }\n    \n    parts.push(\n      <span key={`line-${idx}`}>\n        {lineParts}\n      </span>\n    );\n    \n    if (idx < lines.length - 1) {\n      parts.push('\\n');\n    }\n  });\n  \n  return parts;\n}\n\nfunction formatCustomQuery(parsed: any): string {\n  if (!parsed) return \"\";\n  \n  console.log('formatCustomQuery input:', parsed, typeof parsed); \n  \n  try {\n    let data = parsed;\n    if (typeof parsed === 'string') {\n      let cleaned = parsed.trim();\n      if (cleaned.startsWith('```')) {\n        cleaned = cleaned.replace(/^```(?:json)?\\s*\\n?/i, '');\n        cleaned = cleaned.replace(/\\n?```\\s*$/g, '');\n        cleaned = cleaned.trim();\n      }\n      \n      try {\n        data = JSON.parse(cleaned);\n      } catch (parseError) {\n        console.error('JSON parse error:', parseError, 'Cleaned string:', cleaned);\n        return parsed;\n      }\n    }\n    \n    if (typeof data !== 'object' || data === null) {\n      return String(data);\n    }\n    \n    const parts: string[] = [];\n    \n    if (data.categories && Array.isArray(data.categories)) {\n      data.categories.forEach((cat: any) => {\n        if (cat && typeof cat === 'object') {\n          if (cat.category) parts.push(`**Category**: ${cat.category}`);\n          if (cat.type) parts.push(`**Type**: ${cat.type}`);\n          if (cat.problems && Array.isArray(cat.problems) && cat.problems.length > 0) {\n            parts.push(`**Problems**: ${cat.problems.join(\", \")}`);\n          }\n          if (cat.speed) parts.push(`**Speed**: ${cat.speed}`);\n          if (cat.notes) parts.push(`**Notes**: ${cat.notes}`);\n        }\n      });\n    }\n    \n    if (data.prompt) {\n      parts.push(`**Final prompt**: ${data.prompt}`);\n    }\n    \n    const result = parts.join(\"\\n\");\n    console.log('formatCustomQuery output:', result); // Debug log\n    return result;\n  } catch (error) {\n    console.error('formatCustomQuery error:', error);\n    return typeof parsed === 'string' ? parsed : JSON.stringify(parsed);\n  }\n}\n\nexport default function CustomQueryBox({\n  onParsed,\n}: {\n  onParsed?: (parsed: any) => void;\n}) {\n  const [text, setText] = useState(\"\");\n  const [parsed, setParsed] = useState<any>(null);\n  const [formattedPrompt, setFormattedPrompt] = useState<string>(\"\");\n  const [loading, setLoading] = useState(false);\n  const [isEditing, setIsEditing] = useState(true);\n  const [isEditingPrompt, setIsEditingPrompt] = useState(false);\n\n  const handleParse = async () => {\n    if (!text.trim()) return;\n\n    setLoading(true);\n    try {\n      const res = await parseQuery(text);\n      \n      let result = res.parsed || res.raw || res || null;\n      \n      if (typeof result === 'string' && result.trim().startsWith('{')) {\n        try {\n          result = JSON.parse(result);\n        } catch {\n        }\n      }\n      \n      setParsed(result);\n      \n      const formatted = formatCustomQuery(result);\n      console.log('Formatted prompt:', formatted); \n      setFormattedPrompt(formatted);\n      setIsEditing(false);\n      setIsEditingPrompt(false);\n\n      if (onParsed) {\n        onParsed(formatted);\n      }\n    } catch (error) {\n      console.error('Parse error:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleEditPrompt = () => {\n    setIsEditingPrompt(true);\n  };\n\n  const handleSavePrompt = () => {\n    setIsEditingPrompt(false);\n    if (onParsed && formattedPrompt.trim()) {\n      onParsed(formattedPrompt);\n    }\n  };\n\n  const handleEdit = () => {\n    setIsEditing(true);\n    setParsed(null);\n    setFormattedPrompt(\"\");\n    if (onParsed) {\n      onParsed(null); \n    }\n  };\n\n  return (\n    <div className=\"w-full h-full bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl p-5 shadow-sm flex flex-col max-h-[800px]\">\n      <div className=\"flex items-center justify-between mb-4\">\n        <h3 className=\"text-xl font-bold text-zinc-900 dark:text-zinc-100\">Custom Query</h3>\n        {parsed && !isEditing && (\n          <Button\n            variant=\"ghost\"\n            size=\"sm\"\n            onClick={handleEdit}\n            className=\"text-xs h-7\"\n          >\n            <Pencil className=\"w-3.5 h-3.5 mr-1\" />\n            Edit Query\n          </Button>\n        )}\n      </div>\n      \n      <div className=\"flex-1 overflow-y-auto space-y-3 min-h-0\">\n        {isEditing ? (\n          <Textarea\n            value={text}\n            onChange={(e) => setText(e.target.value)}\n            placeholder=\"Type your custom query here...\"\n            className=\"w-full min-h-[200px] bg-transparent\"\n          />\n        ) : parsed ? (\n          <div className=\"space-y-3\">\n            {isEditingPrompt ? (\n              <Textarea\n                value={formattedPrompt || formatCustomQuery(parsed)}\n                onChange={(e) => setFormattedPrompt(e.target.value)}\n                placeholder=\"Edit the parsed prompt...\"\n                className=\"w-full min-h-[200px] bg-transparent\"\n              />\n            ) : (\n              <div className=\"p-3 bg-zinc-50 dark:bg-zinc-800 rounded-lg border border-zinc-200 dark:border-zinc-700\">\n                <div className=\"text-sm text-zinc-900 dark:text-zinc-100 whitespace-pre-wrap font-sans\">\n                  {formatPromptText(formattedPrompt || formatCustomQuery(parsed))}\n                </div>\n              </div>\n            )}\n          </div>\n        ) : null}\n      </div>\n\n      <div className=\"pt-4 mt-4 border-t border-zinc-200 dark:border-zinc-800 flex-shrink-0 space-y-2\">\n        {isEditing ? (\n          <Button\n            onClick={handleParse}\n            disabled={loading || !text.trim()}\n            variant=\"outline\"\n            size=\"sm\"\n            className=\"w-full border-3 hover:border-emerald-600 dark:hover:border-emerald-500 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 disabled:opacity-50 disabled:cursor-not-allowed\"\n          >\n            {loading ? \"Parsing…\" : \"Analyze & Parse\"}\n          </Button>\n        ) : parsed && formattedPrompt ? (\n          isEditingPrompt ? (\n            <Button\n              onClick={handleSavePrompt}\n              variant=\"outline\"\n              size=\"sm\"\n              className=\"w-full border-3 hover:border-emerald-600 dark:hover:border-emerald-500 hover:bg-emerald-50 dark:hover:bg-emerald-900/20\"\n            >\n              Save Prompt\n            </Button>\n          ) : (\n            <Button\n              onClick={handleEditPrompt}\n              variant=\"ghost\"\n              size=\"sm\"\n              className=\"w-full\"\n            >\n              <Pencil className=\"w-3.5 h-3.5 mr-1\" />\n              Edit Prompt\n            </Button>\n          )\n        ) : null}\n      </div>\n    </div>\n  );\n}\n"],"names":["useState","React","parseQuery","Button","Textarea","Pencil","formatPromptText","text","ReactNode","parts","lines","split","key","forEach","line","idx","boldRegex","lastIndex","match","lineParts","exec","index","push","substring","length","formatCustomQuery","parsed","console","log","data","cleaned","trim","startsWith","replace","JSON","parse","parseError","error","String","categories","Array","isArray","cat","category","type","problems","join","speed","notes","prompt","result","stringify","CustomQueryBox","onParsed","setText","setParsed","formattedPrompt","setFormattedPrompt","loading","setLoading","isEditing","setIsEditing","isEditingPrompt","setIsEditingPrompt","handleParse","res","raw","formatted","handleEditPrompt","handleSavePrompt","handleEdit","e","target","value"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 2098, "column": 0}, "map": {"version":3,"sources":["file:///Users/anubhav/Desktop/Me/Projects/RoadMarshal_AI/frontend/src/app/components/LoadingView.tsx"],"sourcesContent":["export default function LoadingView({ message = \"Please wait - I'm onto it.\" }: { message?: string }) {\n  return (\n    <div className=\"min-h-screen flex items-center justify-center\">\n      <div className=\"flex flex-col items-center justify-center space-y-6\">\n        <div className=\"animate-spin h-16 w-16 border-4 border-t-emerald-600 border-zinc-200 dark:border-zinc-700 rounded-full\" />\n        <div className=\"text-center\">\n          <div className=\"text-xl font-semibold text-zinc-900 dark:text-zinc-100\">{message}</div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n"],"names":["LoadingView","t0","$","_c","$i","Symbol","for","message","t1","undefined","t2","t3"],"mappings":";;;;;;;;AAAe,qBAAAC,EAAA;IAAA,MAAAC,CAAA,OAAAC,4LAAA,EAAA;IAAA,IAAAD,CAAA,CAAA,EAAA,KAAA,oEAAA;QAAA,IAAA,IAAAE,EAAA,GAAA,GAAAA,EAAA,GAAA,GAAAA,EAAA,IAAA,EAAA;YAAAF,CAAA,CAAAE,EAAA,CAAA,GAAAC,MAAA,CAAAC,GAAA,CAAA;QAAA;QAAAJ,CAAA,CAAA,EAAA,GAAA;IAAA;IAAqB,MAAA,EAAAK,OAAA,EAAAC,EAAAA,EAAA,GAAAP,EAAgE;IAA9D,MAAAM,OAAA,GAAAC,EAAsC,KAAtCC,SAAsC,GAAtC,4BAAsC,GAAtCD,EAAsC;IAAA,IAAAE,EAAA;IAAA,IAAAR,CAAA,CAAA,EAAA,KAAAG,MAAA,CAAAC,GAAA,CAAA,8BAAA;QAIpEI,EAAA,iBAAA,yMAAA,GAA0H;YAA3G,SAAwG,EAAxG,wGAAwG,GAAG;;;;;;QAAAR,CAAA,CAAA,EAAA,GAAAQ,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAR,CAAA,CAAA,EAAA;IAAA;IAAA,IAAAS,EAAA;IAAA,IAAAT,CAAA,CAAA,EAAA,KAAAK,OAAA,EAAA;QAF9HI,EAAA,iBAAA,yMAAA,GAOM;YAPS,SAA+C,EAA/C,+CAA+C;oCAC5D,yMAAA,GAKM;gBALS,SAAqD,EAArD,qDAAqD,CAClE;;oBAAAD,EAAyH;kCACzH,yMAAA,GAEM;wBAFS,SAAa,EAAb,aAAa;gDAC1B,yMAAA,GAAuF;4BAAxE,SAAwD,EAAxD,wDAAwD,CAAEH;sCAAAA,OAAM,CAAE,EAAjF,GAAuF,CACzF,EAFA,GAEM,CACR,EALA,GAKM,CACR,EAPA,GAOM;;;;;;;;;;;;;;;;;;;;;;QAAAL,CAAA,CAAA,EAAA,GAAAK,OAAA;QAAAL,CAAA,CAAA,EAAA,GAAAS,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAT,CAAA,CAAA,EAAA;IAAA;IAAA,OAPNS,EAOM;AAAA;KATKX","ignoreList":[]}},
    {"offset": {"line": 2180, "column": 0}, "map": {"version":3,"sources":["file:///Users/anubhav/Desktop/Me/Projects/RoadMarshal_AI/frontend/src/components/MarkdownRenderer.tsx"],"sourcesContent":["import ReactMarkdown from \"react-markdown\";\nimport remarkGfm from \"remark-gfm\";\n\nexport default function MarkdownRenderer({ content }: { content: string }) {\n  return (\n    <div className=\"prose prose-zinc dark:prose-invert max-w-none\">\n      <ReactMarkdown \n        remarkPlugins={[remarkGfm]}\n        components={{\n          code({ node, inline, className, children, ...props }: any) {\n            const match = /language-(\\w+)/.exec(className || '');\n            return !inline && match ? (\n              <pre className=\"bg-zinc-100 dark:bg-zinc-800 rounded-lg p-4 overflow-x-auto my-4 border border-zinc-200 dark:border-zinc-700\">\n                <code className={className} {...props}>\n                  {children}\n                </code>\n              </pre>\n            ) : (\n              <code className=\"bg-zinc-100 dark:bg-zinc-800 px-1.5 py-0.5 rounded text-sm font-mono\" {...props}>\n                {children}\n              </code>\n            );\n          },\n          pre({ children, ...props }: any) {\n            if (children && typeof children === 'object' && 'props' in children && children.props.className) {\n              return <>{children}</>;\n            }\n            return (\n              <pre className=\"bg-zinc-100 dark:bg-zinc-800 rounded-lg p-4 overflow-x-auto my-4 border border-zinc-200 dark:border-zinc-700\" {...props}>\n                {children}\n              </pre>\n            );\n          },\n        }}\n      >\n        {content}\n      </ReactMarkdown>\n    </div>\n  );\n}\n"],"names":["ReactMarkdown","remarkGfm","MarkdownRenderer","t0","$","_c","$i","Symbol","for","content","t1","t2","code","t3","node","inline","className","children","props","match","exec","pre","t4","children_0","props_0"],"mappings":";;;;;;AAAA,OAAOA,aAAa,MAAM,gBAAgB;AAC1C,OAAOC,SAAS,MAAM,YAAY;;;;;AAEnB,0BAAAE,EAAA;IAAA,MAAAC,CAAA,OAAAC,4LAAA,EAAA;IAAA,IAAAD,CAAA,CAAA,EAAA,KAAA,oEAAA;QAAA,IAAA,IAAAE,EAAA,GAAA,GAAAA,EAAA,GAAA,GAAAA,EAAA,IAAA,EAAA;YAAAF,CAAA,CAAAE,EAAA,CAAA,GAAAC,MAAA,CAAAC,GAAA,CAAA;QAAA;QAAAJ,CAAA,CAAA,EAAA,GAAA;IAAA;IAA0B,MAAA,EAAAK,OAAAA,EAAA,GAAAN,EAAgC;IAAA,IAAAO,EAAA;IAAA,IAAAC,EAAA;IAAA,IAAAP,CAAA,CAAA,EAAA,KAAAG,MAAA,CAAAC,GAAA,CAAA,8BAAA;QAIlDE,EAAA,GAAA;YAACT,uKAAS;SAAC;QACdU,EAAA,GAAA;YAAAC,MAAAC,EAAA;gBACL,MAAA,EAAAC,IAAA,EAAAC,MAAA,EAAAC,SAAA,EAAAC,QAAA,EAAA,GAAAC,OAAA,GAAAL,EAAoD;gBACvD,MAAAM,KAAA,GAAc,gBAAgB,CAAAC,IAAK,CAACJ,SAAe,IAAf,EAAe,CAAC;gBAAC,OAC9C,CAACD,MAAe,IAAhBI,KAUN,iBATC,yMAAA,GAIM;oBAJS,SAA8G,EAA9G,8GAA8G;4CAC3H,yMAAA,IAEO;wBAFUH,SAAS,CAATA,CAAAA,SAAQ,CAAC;wBAAA,GAAME,KAAK,EAClCD;kCAAAA,QAAO,CACV,EAFA,IAEO,CACT,EAJA,GAIM,CAKP;;;;;;;;;;yCAHC,yMAAA,IAEO;oBAFS,SAAsE,EAAtE,sEAAsE;oBAAA,GAAKC,KAAK,EAC7FD;8BAAAA,QAAO,CACV,EAFA,IAEO,CACR;;;;;;YAAA;YAAAI,KAAAC,EAAA;gBAEC,MAAA,EAAAL,QAAA,EAAAM,UAAA,EAAA,GAAAC,SAAA,GAAAF,EAA2B;gBAC7B,IAAIC,UAAwC,IAA5B,OAAON,UAAQ,KAAK,QAA+B,IAAnB,OAAO,IAAIA,UAAoC,IAAxBA,UAAQ,CAAAC,KAAM,CAAAF,SAAU,EAAA;oBAAA,qBACtF,EAAGC;kCAAAA,UAAO,CAAC,GAAI;;gBAAA;gBACvB,qBAEC,yMAAA,GAEM;oBAFS,SAA8G,EAA9G,8GAA8G;oBAAA,GAAKC,OAAK,EACpID;8BAAAA,UAAO,CACV,EAFA,GAEM;;;;;;YAAA;QAGZ,CAAC;QAAAb,CAAA,CAAA,EAAA,GAAAM,EAAA;QAAAN,CAAA,CAAA,EAAA,GAAAO,EAAA;IAAA,OAAA;QAAAD,EAAA,GAAAN,CAAA,CAAA,EAAA;QAAAO,EAAA,GAAAP,CAAA,CAAA,EAAA;IAAA;IAAA,IAAAS,EAAA;IAAA,IAAAT,CAAA,CAAA,EAAA,KAAAK,OAAA,EAAA;QA5BLI,EAAA,iBAAA,yMAAA,GAgCM;YAhCS,SAA+C,EAA/C,+CAA+C;oCAC5D,yMAAC,kNAAa;gBACG,aAAW,CAAX,CAAAH,EAAU,CAAC;gBACd,UAyBX,CAzBW,CAAAC,EAyBZ,CAAC,CAEAF;0BAAAA,OAAM,CACT,EA9BC,aAAa,CA+BhB,EAhCA,GAgCM;;;;;;;;;;;QAAAL,CAAA,CAAA,EAAA,GAAAK,OAAA;QAAAL,CAAA,CAAA,EAAA,GAAAS,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAT,CAAA,CAAA,EAAA;IAAA;IAAA,OAhCNS,EAgCM;AAAA;KAlCKX","ignoreList":[]}},
    {"offset": {"line": 2295, "column": 0}, "map": {"version":3,"sources":["file:///Users/anubhav/Desktop/Me/Projects/RoadMarshal_AI/frontend/src/app/components/ResultView.tsx"],"sourcesContent":["\"use client\";\nimport MarkdownRenderer from \"@/components/MarkdownRenderer\";\nimport html2canvas from \"html2canvas\";\nimport jsPDF from \"jspdf\";\n\nexport default function ResultView({ result, onRestart }: { result: any; onRestart: () => void }) {\n  const answer = result?.answer || result?.data?.answer || \"\";\n\n  const downloadPDF = async () => {\n    const el = document.getElementById(\"result-root\");\n    if (!el) return;\n    \n    try {\n      const canvas = await html2canvas(el, {\n        backgroundColor: \"#ffffff\",\n        useCORS: true,\n        logging: false,\n        scale: 2, \n        \n        onclone: (clonedDoc) => {\n          const clonedRoot = clonedDoc.getElementById(\"result-root\");\n          if (!clonedRoot) return;\n          \n\n          clonedDoc.querySelectorAll('style, link[rel=\"stylesheet\"]').forEach(styleEl => {\n            styleEl.remove();\n          });\n          \n\n          (clonedRoot as HTMLElement).style.width = \"800px\";\n          (clonedRoot as HTMLElement).style.boxSizing = \"border-box\";\n          (clonedRoot as HTMLElement).style.fontFamily = \"Arial, sans-serif\"; // Base font\n          \n          const walker = clonedDoc.createTreeWalker(\n            clonedRoot,\n            NodeFilter.SHOW_ELEMENT\n          );\n          \n          let node;\n          while ((node = walker.nextNode())) {\n            const elem = node as HTMLElement;\n            const tagName = elem.tagName.toLowerCase();\n            \n            elem.removeAttribute(\"class\");\n            elem.removeAttribute(\"data-theme\");\n            elem.removeAttribute(\"style\");\n            \n            elem.style.color = \"#000000\";\n            elem.style.backgroundColor = \"transparent\"; \n            elem.style.border = \"none\";\n            elem.style.textDecoration = \"none\";\n            elem.style.boxShadow = \"none\";\n            elem.style.overflow = \"visible\";\n            elem.style.whiteSpace = \"normal\";\n            elem.style.wordWrap = \"break-word\";\n\n            if (['p', 'li', 'h1', 'h2', 'h3', 'h4', 'div', 'span'].includes(tagName)) {\n                elem.style.fontFamily = \"Arial, sans-serif\";\n                elem.style.fontSize = \"16px\";\n                elem.style.lineHeight = \"1.5\";\n                elem.style.paddingTop = \"2px\";\n                elem.style.paddingBottom = \"2px\";\n            }\n\n            if (['h1', 'h2', 'h3', 'h4'].includes(tagName)) {\n                elem.style.fontWeight = \"bold\";\n                elem.style.margin = \"16px 0 8px 0\";\n            }\n            if (tagName === 'h1') elem.style.fontSize = \"24px\";\n            if (tagName === 'h2') elem.style.fontSize = \"20px\";\n\n            if (tagName === 'ul' || tagName === 'ol') {\n                elem.style.paddingLeft = \"40px\"; \n                elem.style.margin = \"10px 0\";\n            }\n            if (tagName === 'li') {\n                elem.style.listStylePosition = \"outside\"; \n                elem.style.display = \"list-item\";\n            }\n          }\n          \n          (clonedRoot as HTMLElement).style.backgroundColor = \"#ffffff\";\n          (clonedRoot as HTMLElement).style.color = \"#000000\";\n          (clonedRoot as HTMLElement).style.padding = \"40px\";\n          (clonedRoot as HTMLElement).style.boxSizing = \"border-box\";\n          (clonedRoot as HTMLElement).style.width = \"800px\";\n          (clonedRoot as HTMLElement).style.overflow = \"visible\";\n        },\n      });\n      \n      const img = canvas.toDataURL(\"image/png\");\n      const pdf = new jsPDF(\"p\", \"pt\", \"a4\");\n      \n      const imgProps = pdf.getImageProperties(img);\n      const pdfPageWidth = pdf.internal.pageSize.getWidth();\n      const pdfPageHeight = pdf.internal.pageSize.getHeight();\n      \n      const margin = 40;\n      const usableWidth = pdfPageWidth - (margin * 2);\n      const usableHeight = (imgProps.height * usableWidth) / imgProps.width;\n      const pageHeightWithMargin = pdfPageHeight - (margin * 2);\n\n      if (usableHeight > pageHeightWithMargin) {\n        let heightLeft = usableHeight;\n        let position = margin;\n        \n        pdf.addImage(img, 'PNG', margin, position, usableWidth, usableHeight);\n        heightLeft -= pageHeightWithMargin;\n        \n        let page = 1;\n        while (heightLeft > 0) {\n          pdf.addPage();\n          position = margin - (pageHeightWithMargin * page); \n          pdf.addImage(img, 'PNG', margin, position, usableWidth, usableHeight);\n          heightLeft -= pageHeightWithMargin;\n          page++;\n        }\n      } else {\n        pdf.addImage(img, \"PNG\", margin, margin, usableWidth, usableHeight);\n      }\n      \n      pdf.save(\"roadmarshal-report.pdf\");\n      \n    } catch (error) {\n      console.error(\"PDF generation failed:\", error);\n      alert(\"Failed to generate PDF. Please try again.\");\n    }\n  };\n\n  return (\n    <div className=\"space-y-4\">\n      <div id=\"result-root\" className=\"p-4 bg-white dark:bg-zinc-900 border rounded\">\n        <MarkdownRenderer content={answer} />\n      </div>\n\n      <div className=\"flex gap-3\">\n        <button onClick={downloadPDF} className=\"px-4 py-2 bg-blue-600 text-white rounded\">Download PDF</button>\n        <button onClick={onRestart} className=\"px-4 py-2 border rounded\">Restart</button>\n      </div>\n    </div>\n  );\n}"],"names":["MarkdownRenderer","html2canvas","jsPDF","ResultView","result","onRestart","answer","data","downloadPDF","el","document","getElementById","canvas","backgroundColor","useCORS","logging","scale","onclone","clonedDoc","clonedRoot","querySelectorAll","forEach","styleEl","remove","HTMLElement","style","width","boxSizing","fontFamily","walker","createTreeWalker","NodeFilter","SHOW_ELEMENT","node","nextNode","elem","tagName","toLowerCase","removeAttribute","color","border","textDecoration","boxShadow","overflow","whiteSpace","wordWrap","includes","fontSize","lineHeight","paddingTop","paddingBottom","fontWeight","margin","paddingLeft","listStylePosition","display","padding","img","toDataURL","pdf","imgProps","getImageProperties","pdfPageWidth","internal","pageSize","getWidth","pdfPageHeight","getHeight","usableWidth","usableHeight","height","pageHeightWithMargin","heightLeft","position","addImage","page","addPage","save","error","console","alert"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 2481, "column": 0}, "map": {"version":3,"sources":["file:///Users/anubhav/Desktop/Me/Projects/RoadMarshal_AI/frontend/src/app/components/Navbar.tsx"],"sourcesContent":["\"use client\";\nimport Link from \"next/link\";\nimport { Sun, Moon } from \"lucide-react\";\nimport { useTheme } from \"next-themes\";\n\nexport default function Navbar() {\n  const { theme, setTheme } = useTheme();\n\n  return (\n    <nav className=\"w-full bg-white/60 dark:bg-zinc-900/60 backdrop-blur sticky top-0 z-40 border-b\">\n      <div className=\"max-w-6xl mx-auto px-4 py-3 flex items-center justify-between\">\n        <Link href=\"/\" className=\"flex items-center gap-3\">\n          <div className=\"h-8 w-8 bg-gradient-to-br from-blue-600 to-cyan-500 rounded-md\" />\n          <span className=\"font-semibold\">RoadMarshal.AI</span>\n        </Link>\n\n        <div className=\"flex items-center gap-3\">\n          <button\n            onClick={() => setTheme(theme === \"dark\" ? \"light\" : \"dark\")}\n            className=\"p-2 rounded-md hover:bg-zinc-100 dark:hover:bg-zinc-800\"\n            aria-label=\"Toggle theme\"\n          >\n            {theme === \"dark\" ? <Sun className=\"w-5 h-5\" /> : <Moon className=\"w-5 h-5\" />}\n          </button>\n        </div>\n      </div>\n    </nav>\n  );\n}\n"],"names":["c","_c","Link","Sun","Moon","useTheme","Navbar","$","$i","Symbol","for","theme","setTheme","t0","t1","Navbar[<button>.onClick]","t2","t3"],"mappings":";;;;;AAAa,SAAAA,CAAA,IAAAC,EAAA;AACb,OAAOC,IAAI,MAAM,WAAW;AAC5B,SAASC,GAAG,EAAEC,IAAI,QAAQ,cAAc;;AACxC,SAASC,QAAQ,QAAQ,aAAa;;;AAHtC,YAAY;;;;;AAKG;;IAAA,MAAAE,CAAA,OAAAN,4LAAA,EAAA;IAAA,IAAAM,CAAA,CAAA,EAAA,KAAA,oEAAA;QAAA,IAAA,IAAAC,EAAA,GAAA,GAAAA,EAAA,GAAA,IAAAA,EAAA,IAAA,EAAA;YAAAD,CAAA,CAAAC,EAAA,CAAA,GAAAC,MAAA,CAAAC,GAAA,CAAA;QAAA;QAAAH,CAAA,CAAA,EAAA,GAAA;IAAA;IACb,MAAA,EAAAI,KAAA,EAAAC,QAAAA,EAAA;IAAuC,IAAAC,EAAA;IAAA,IAAAN,CAAA,CAAA,EAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QAKjCG,EAAA,iBAAA,yMAAC,sLAAI;YAAM,IAAG,EAAH,GAAG;YAAW,SAAyB,EAAzB,yBAAyB;;8BAChD,yMAAA,GAAkF;oBAAnE,SAAgE,EAAhE,gEAAgE;;;;;;8BAC/E,yMAAA,IAAqD;oBAArC,SAAe,EAAf,eAAe;8BAAC,cAAc,EAA9C,IAAqD,CACvD,EAHC,IAAI,CAGE;;;;;;;;;;;;QAAAN,CAAA,CAAA,EAAA,GAAAM,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAN,CAAA,CAAA,EAAA;IAAA;IAAA,IAAAO,EAAA;IAAA,IAAAP,CAAA,CAAA,EAAA,KAAAK,QAAA,IAAAL,CAAA,CAAA,EAAA,KAAAI,KAAA,EAAA;QAIMG,EAAA,GAAA,CAAA;YAAA,4BAAAC,CAAA,GAAMH,QAAQ,CAACD,KAAK,KAAK,MAAyB,GAAnC,OAAmC,GAAnC,MAAmC;SAAC,CAAA,CAAA,2BAAA;QAAAJ,CAAA,CAAA,EAAA,GAAAK,QAAA;QAAAL,CAAA,CAAA,EAAA,GAAAI,KAAA;QAAAJ,CAAA,CAAA,EAAA,GAAAO,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAP,CAAA,CAAA,EAAA;IAAA;IAAA,IAAAS,EAAA;IAAA,IAAAT,CAAA,CAAA,EAAA,KAAAI,KAAA,EAAA;QAI3DK,EAAA,GAAAL,KAAK,KAAK,MAAmE,iBAA1D,yMAAC,sNAAG;YAAW,SAAS,EAAT,SAAS,GAAkC;;;;;iCAA5B,yMAAC,yNAAI;YAAW,SAAS,EAAT,SAAS,GAAG;;;;;;QAAAJ,CAAA,CAAA,EAAA,GAAAI,KAAA;QAAAJ,CAAA,CAAA,EAAA,GAAAS,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAT,CAAA,CAAA,EAAA;IAAA;IAAA,IAAAU,EAAA;IAAA,IAAAV,CAAA,CAAA,EAAA,KAAAO,EAAA,IAAAP,CAAA,CAAA,EAAA,KAAAS,EAAA,EAAA;QAbtFC,EAAA,iBAAA,yMAAA,GAiBM;YAjBS,SAAiF,EAAjF,iFAAiF;oCAC9F,yMAAA,GAeM;gBAfS,SAA+D,EAA/D,+DAA+D,CAC5E;;oBAAAJ,EAGM;kCAEN,yMAAA,GAQM;wBARS,SAAyB,EAAzB,yBAAyB;gDACtC,yMAAA,MAMS;4BALE,OAAmD,CAAnD,CAAAC,EAAkD,CAAC;4BAClD,SAAyD,EAAzD,yDAAyD;4BACxD,UAAc,IAAd,cAAc,CAExB;sCAAAE,EAA4E,CAC/E,EANA,MAMS,CACX,EARA,GAQM,CACR,EAfA,GAeM,CACR,EAjBA,GAiBM;;;;;;;;;;;;;;;;;;;;;;QAAAT,CAAA,CAAA,EAAA,GAAAO,EAAA;QAAAP,CAAA,CAAA,EAAA,GAAAS,EAAA;QAAAT,CAAA,CAAA,EAAA,GAAAU,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAV,CAAA,CAAA,EAAA;IAAA;IAAA,OAjBNU,EAiBM;AAAA;;;QApBoBZ,2KAAQ,CAAC,CAAC;;;KADzBC,OAAA","ignoreList":[]}},
    {"offset": {"line": 2629, "column": 0}, "map": {"version":3,"sources":["file:///Users/anubhav/Desktop/Me/Projects/RoadMarshal_AI/frontend/src/app/components/FinalPromptModal.tsx"],"sourcesContent":["\"use client\";\nimport React, { useState } from \"react\";\n\nexport default function FinalPromptModal({\n  initial,\n  onConfirm,\n  onClose,\n}: {\n  initial: string;\n  onConfirm: (prompt: string) => void;\n  onClose: () => void;\n}) {\n  const [text, setText] = useState(initial);\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/40\">\n      <div className=\"w-full max-w-3xl bg-white dark:bg-zinc-900 rounded p-6\">\n        <h3 className=\"text-lg font-semibold mb-3\">I would like to confirm the prompt. Please review it. Please make changes if needed.</h3>\n        <textarea value={text} onChange={(e)=>setText(e.target.value)} className=\"w-full min-h-[160px] p-3 bg-transparent border rounded\" />\n        <div className=\"flex justify-end gap-3 mt-4\">\n          <button onClick={onClose} className=\"px-4 py-2 bg-white text-red-600 border border-red-600 rounded hover:bg-red-600 hover:text-white\">Cancel</button>\n          <button onClick={() => onConfirm(text)} className=\"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700\">Confirm & Run</button>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":["c","_c","React","useState","FinalPromptModal","t0","$","$i","Symbol","for","initial","onConfirm","onClose","text","setText","t1","t2","e","target","value","t3","t4","t5","FinalPromptModal[<button>.onClick]","t6","t7"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 2785, "column": 0}, "map": {"version":3,"sources":["file:///Users/anubhav/Desktop/Me/Projects/RoadMarshal_AI/frontend/src/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useEffect, useState } from \"react\";\nimport { fetchCatalog, sendQuery, ParseResponse } from \"@/app/api/backend\";\nimport { AppState, CategoryState, generateLLMPrompt, generateHumanPrompt } from \"@/app/utils/prompt\";\n\nimport Chip from \"@/components/Chip\"; \nimport CategoryCard from \"@/app/components/CategoryCard\"; \nimport CustomQueryBox from \"@/app/components/CustomQueryBox\";\nimport LoadingView from \"@/app/components/LoadingView\";\nimport ResultView from \"@/app/components/ResultView\";\nimport Navbar from \"@/app/components/Navbar\";\nimport FinalPromptModal from \"@/app/components/FinalPromptModal\";\n\nexport default function QueryPage() {\n  const [catalog, setCatalog] = useState<any>(null);\n  const [loadingCatalog, setLoadingCatalog] = useState(true);\n\n  const [appState, setAppState] = useState<AppState>({});\n  const [customParsedPrompt, setCustomParsedPrompt] = useState<string | null>(null);\n  const [selectedCategories, setSelectedCategories] = useState<string[]>([]);\n  const categories = [\"Road Sign\", \"Road Marking\", \"Traffic Calming Measures\", \"Custom Query\"];\n  \n  const getCategoryDisplayName = (category: string) => {\n    if (category === \"Traffic Calming Measures\") return \"Traffic Calming\";\n    return category;\n  };\n\n  const formatPreviewText = (text: string): React.ReactNode[] => {\n    const parts: React.ReactNode[] = [];\n    const lines = text.split('\\n');\n    let key = 0;\n    \n    lines.forEach((line, idx) => {\n      const boldRegex = /\\*\\*(.+?)\\*\\*/g;\n      let lastIndex = 0;\n      let match;\n      const lineParts: React.ReactNode[] = [];\n      \n      while ((match = boldRegex.exec(line)) !== null) {\n        if (match.index > lastIndex) {\n          lineParts.push(line.substring(lastIndex, match.index));\n        }\n        lineParts.push(\n          <strong key={`bold-${key++}`} className=\"font-bold text-zinc-900 dark:text-zinc-100\">\n            {match[1]}\n          </strong>\n        );\n        lastIndex = match.index + match[0].length;\n      }\n      \n      if (lastIndex < line.length) {\n        lineParts.push(line.substring(lastIndex));\n      }\n      \n      if (lineParts.length === 0) {\n        lineParts.push(line);\n      }\n      \n      parts.push(\n        <span key={`line-${idx}`}>\n          {lineParts}\n        </span>\n      );\n      \n      if (idx < lines.length - 1) {\n        parts.push('\\n');\n      }\n    });\n    \n    return parts;\n  };\n\n  const [isLoading, setIsLoading] = useState(false);\n  const [result, setResult] = useState<any>(null);\n  const [showPromptModal, setShowPromptModal] = useState(false);\n\n  useEffect(() => {\n    fetchCatalog()\n      .then((data) => {\n        setCatalog(data);\n      })\n      .catch(console.error)\n      .finally(() => {\n        setLoadingCatalog(false);\n      });\n  }, []);\n\n  const toggleCategory = (cat: string) => {\n    if (selectedCategories.includes(cat)) {\n      setSelectedCategories(selectedCategories.filter(c => c !== cat));\n      if (cat !== \"Custom Query\") {\n        setAppState(prev => {\n          const next = { ...prev };\n          delete next[cat];\n          return next;\n        });\n      } else {\n        setCustomParsedPrompt(null);\n      }\n    } else {\n      if (cat === \"Custom Query\") {\n        setSelectedCategories([\"Custom Query\"]);\n        setAppState({}); \n      } else {\n       \n        setSelectedCategories([...selectedCategories.filter(c => c !== \"Custom Query\"), cat]);\n        setCustomParsedPrompt(null); \n      }\n    }\n  };\n\n  \n  const handleCategoryChange = (category: string, nextCategoryState: CategoryState) => {\n    setAppState(prev => ({\n      ...prev,\n      [category]: nextCategoryState,\n    }));\n  };\n\n  const handleCustomQueryParsed = (parsed: any) => {\n    if (parsed && typeof parsed === 'string') {\n      setCustomParsedPrompt(parsed);\n    } else {\n      setCustomParsedPrompt(null);\n    }\n  };\n\n  const restartAll = () => {\n    setAppState({});\n    setCustomParsedPrompt(null);\n    setSelectedCategories([]);\n    setResult(null);\n    setIsLoading(false);\n  };\n\n  const handleShowPrompt = () => {\n    setShowPromptModal(true);\n  };\n\n  const handleSubmit = async (confirmedPrompt?: string) => {\n    setShowPromptModal(false);\n    setIsLoading(true);\n    setResult(null);\n    \n    const finalPrompt = generateLLMPrompt(appState, customParsedPrompt);\n    \n    try {\n      const res = await sendQuery(finalPrompt);\n      setResult(res); \n    } catch (e) {\n      console.error(e);\n      setResult({ error: \"Failed to contact backend.\" }); \n    }\n    \n    setIsLoading(false);\n  };\n\n\n  if (loadingCatalog) {\n    return (\n      <>\n        <Navbar />\n        <LoadingView message=\"Loading catalog...\" />\n      </>\n    );\n  }\n\n  if (isLoading) {\n    return (\n      <>\n        <Navbar />\n        <LoadingView />\n      </>\n    );\n  }\n\n  if (result) {\n    return (\n      <>\n        <Navbar />\n        <div className=\"w-full max-w-3xl mx-auto pt-10 px-4\">\n          <ResultView result={result} onRestart={restartAll} />\n        </div>\n      </>\n    );\n  }\n\n  const canSubmit = (Object.keys(appState).length > 0 && Object.values(appState).some(cat => Object.values(cat).length > 0)) || customParsedPrompt;\n\n  return (\n    <>\n      <Navbar />\n      <div className=\"w-full max-w-7xl mx-auto pt-10 px-4 pb-20\">\n\n        \n        <header className=\"text-center mb-10\">\n          <h1 className=\"text-3xl font-bold\">Hi There !! I am RoadMarshal.AI</h1>\n          <h2 className=\"text-lg font-bold text-zinc-700 dark:text-zinc-200 mt-3\">\n            I am here to assist you with road safety interventions. Please Select your Query\n          </h2>\n          \n        </header>\n\n        \n        <div className=\"flex flex-wrap gap-3 justify-center mb-8\">\n          {categories.map(cat => (\n            <Chip\n              key={cat}\n              label={getCategoryDisplayName(cat)}\n              selected={selectedCategories.includes(cat)}\n              onClick={() => toggleCategory(cat)}\n            />\n          ))}\n        </div>\n\n        \n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n          \n          {selectedCategories\n            .filter(cat => cat !== \"Custom Query\")\n            .map(cat => (\n              <CategoryCard\n                key={cat}\n                id={cat} \n                catalog={catalog}\n                value={appState[cat] || {}} \n                onChange={(next) => handleCategoryChange(cat, next)}\n              />\n            ))}\n\n          {selectedCategories.includes(\"Custom Query\") && (\n            <div className=\"flex justify-center md:col-span-2\">\n              <div className=\"w-full max-w-[800px]\">\n                <CustomQueryBox \n                  onParsed={handleCustomQueryParsed} \n                />\n              </div>\n            </div>\n          )}\n        </div>\n\n        {canSubmit && (\n          <div className=\"mt-10 border-t pt-6\">\n            <div className=\"mb-4 p-4 bg-zinc-50 dark:bg-zinc-800 rounded-lg\">\n              <h3 className=\"text-lg font-bold mb-3 text-zinc-900 dark:text-zinc-100\">Preview your query:</h3>\n              <div className=\"text-base text-zinc-700 dark:text-zinc-300 whitespace-pre-wrap font-sans\">\n                {formatPreviewText(generateHumanPrompt(appState, customParsedPrompt) || \"No query to preview\")}\n              </div>\n            </div>\n            <div className=\"flex justify-end\">\n              <button\n                onClick={handleShowPrompt}\n                className=\"px-6 py-3 bg-emerald-600 text-white rounded-lg font-semibold shadow hover:bg-emerald-700 transition\"\n              >\n                Review & Submit for Analysis\n              </button>\n            </div>\n          </div>\n        )}\n\n        \n        \n\n      </div>\n\n      {showPromptModal && (\n        <FinalPromptModal\n          initial={generateHumanPrompt(appState, customParsedPrompt)}\n          onConfirm={() => handleSubmit()}\n          onClose={() => setShowPromptModal(false)}\n        />\n      )}\n    </>\n  );\n}"],"names":["React","useEffect","useState","fetchCatalog","sendQuery","ParseResponse","AppState","CategoryState","generateLLMPrompt","generateHumanPrompt","Chip","CategoryCard","CustomQueryBox","LoadingView","ResultView","Navbar","FinalPromptModal","QueryPage","catalog","setCatalog","loadingCatalog","setLoadingCatalog","appState","setAppState","customParsedPrompt","setCustomParsedPrompt","selectedCategories","setSelectedCategories","categories","getCategoryDisplayName","category","formatPreviewText","text","ReactNode","parts","lines","split","key","forEach","line","idx","boldRegex","lastIndex","match","lineParts","exec","index","push","substring","length","isLoading","setIsLoading","result","setResult","showPromptModal","setShowPromptModal","then","data","catch","console","error","finally","toggleCategory","cat","includes","filter","c","prev","next","handleCategoryChange","nextCategoryState","handleCustomQueryParsed","parsed","restartAll","handleShowPrompt","handleSubmit","confirmedPrompt","finalPrompt","res","e","canSubmit","Object","keys","values","some","map"],"mappings":"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","ignoreList":[]}}]
}
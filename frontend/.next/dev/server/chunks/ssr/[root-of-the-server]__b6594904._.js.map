{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/anubhav/Desktop/Me/Projects/RoadMarshal_AI/frontend/src/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,sKAAO,EAAC,IAAA,6IAAI,EAAC;AACtB"}},
    {"offset": {"line": 25, "column": 0}, "map": {"version":3,"sources":["file:///Users/anubhav/Desktop/Me/Projects/RoadMarshal_AI/frontend/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Card({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        \"bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn(\"leading-none font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn(\"px-6\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn(\"flex items-center px-6 [.border-t]:pt-6\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,yHAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,yHAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,yHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,yHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,yHAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,yHAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,yHAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 127, "column": 0}, "map": {"version":3,"sources":["file:///Users/anubhav/Desktop/Me/Projects/RoadMarshal_AI/frontend/src/app/query-builder/components/CategorySelector.tsx"],"sourcesContent":["import { Card, CardContent } from \"@/components/ui/card\";\nimport { useMemo } from \"react\";\n\nexport default function CategorySelector({\n  catalog,\n  category,\n  setCategory,\n  typeName,\n  setTypeName,\n}: {\n  catalog: Record<string, any>;\n  category: string | null;\n  setCategory: (c: string) => void;\n  typeName: string | null;\n  setTypeName: (t: string | null) => void;\n}) {\n  const categories = useMemo(() => Object.keys(catalog).sort(), [catalog]);\n\n  return (\n    <div className=\"space-y-3\">\n      <h2 className=\"text-xl font-semibold\">1. Select Category & Type</h2>\n\n      <div className=\"flex gap-6\">\n        <div className=\"w-1/3\">\n          <div className=\"grid gap-3\">\n            {categories.map((c) => (\n              <Card\n                key={c}\n                onClick={() => setCategory(c)}\n                className={`cursor-pointer p-3 ${category === c ? \"ring-2 ring-blue-500\" : \"\"}`}\n              >\n                <CardContent>\n                  <div className=\"font-medium\">{c}</div>\n                </CardContent>\n              </Card>\n            ))}\n          </div>\n        </div>\n\n        <div className=\"w-2/3\">\n          <div>\n            <h3 className=\"text-sm text-zinc-600 mb-2\">Types</h3>\n            <div className=\"grid grid-cols-2 gap-3\">\n              {category ? (\n                Object.keys(catalog[category]).map((t: string) => (\n                  <Card\n                    key={t}\n                    onClick={() => setTypeName(t)}\n                    className={`cursor-pointer p-3 ${typeName === t ? \"ring-2 ring-blue-500\" : \"\"}`}\n                  >\n                    <CardContent>\n                      <div className=\"font-medium\">{t}</div>\n                      <div className=\"text-xs text-zinc-500\">\n                        {catalog[category][t].problems.slice(0, 2).join(\", \")}\n                      </div>\n                    </CardContent>\n                  </Card>\n                ))\n              ) : (\n                <div className=\"text-sm text-zinc-500\">Select a category first</div>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAEe,SAAS,iBAAiB,EACvC,OAAO,EACP,QAAQ,EACR,WAAW,EACX,QAAQ,EACR,WAAW,EAOZ;IACC,MAAM,aAAa,IAAA,gNAAO,EAAC,IAAM,OAAO,IAAI,CAAC,SAAS,IAAI,IAAI;QAAC;KAAQ;IAEvE,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BAAwB;;;;;;0BAEtC,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;4BAAI,WAAU;sCACZ,WAAW,GAAG,CAAC,CAAC,kBACf,8OAAC,wIAAI;oCAEH,SAAS,IAAM,YAAY;oCAC3B,WAAW,CAAC,mBAAmB,EAAE,aAAa,IAAI,yBAAyB,IAAI;8CAE/E,cAAA,8OAAC,+IAAW;kDACV,cAAA,8OAAC;4CAAI,WAAU;sDAAe;;;;;;;;;;;mCAL3B;;;;;;;;;;;;;;;kCAYb,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;;8CACC,8OAAC;oCAAG,WAAU;8CAA6B;;;;;;8CAC3C,8OAAC;oCAAI,WAAU;8CACZ,WACC,OAAO,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE,GAAG,CAAC,CAAC,kBAClC,8OAAC,wIAAI;4CAEH,SAAS,IAAM,YAAY;4CAC3B,WAAW,CAAC,mBAAmB,EAAE,aAAa,IAAI,yBAAyB,IAAI;sDAE/E,cAAA,8OAAC,+IAAW;;kEACV,8OAAC;wDAAI,WAAU;kEAAe;;;;;;kEAC9B,8OAAC;wDAAI,WAAU;kEACZ,OAAO,CAAC,SAAS,CAAC,EAAE,CAAC,QAAQ,CAAC,KAAK,CAAC,GAAG,GAAG,IAAI,CAAC;;;;;;;;;;;;2CAP/C;;;;kEAaT,8OAAC;wCAAI,WAAU;kDAAwB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQvD"}},
    {"offset": {"line": 277, "column": 0}, "map": {"version":3,"sources":["file:///Users/anubhav/Desktop/Me/Projects/RoadMarshal_AI/frontend/src/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Input({ className, type, ...props }: React.ComponentProps<\"input\">) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        \"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        \"focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]\",\n        \"aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Input }\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC;IACzE,qBACE,8OAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,IAAA,yHAAE,EACX,8bACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 302, "column": 0}, "map": {"version":3,"sources":["file:///Users/anubhav/Desktop/Me/Projects/RoadMarshal_AI/frontend/src/components/ui/textarea.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Textarea({ className, ...props }: React.ComponentProps<\"textarea\">) {\n  return (\n    <textarea\n      data-slot=\"textarea\"\n      className={cn(\n        \"border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Textarea }\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,SAAS,EAAE,SAAS,EAAE,GAAG,OAAyC;IACzE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,yHAAE,EACX,ucACA;QAED,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 326, "column": 0}, "map": {"version":3,"sources":["file:///Users/anubhav/Desktop/Me/Projects/RoadMarshal_AI/frontend/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost:\n          \"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\n        sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\n        icon: \"size-9\",\n        \"icon-sm\": \"size-8\",\n        \"icon-lg\": \"size-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,uKAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,wKAAI,GAAG;IAE9B,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,yHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 385, "column": 0}, "map": {"version":3,"sources":["file:///Users/anubhav/Desktop/Me/Projects/RoadMarshal_AI/frontend/src/app/query-builder/components/SmartSubQueryForm.tsx"],"sourcesContent":["\"use client\";\nimport { Input } from \"@/components/ui/input\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent } from \"@/components/ui/card\";\n\nexport default function SmartSubQueryForm({\n  category,\n  typeName,\n  catalog,\n  rows,\n  updateRow,\n  addRow,\n  removeRow,\n}: {\n  category: string;\n  typeName: string;\n  catalog: Record<string, any>;\n  rows: any[];\n  updateRow: (idx: number, field: string, val: string) => void;\n  addRow: () => void;\n  removeRow: (idx: number) => void;\n}) {\n  const problems = catalog[category][typeName].problems || [];\n\n  return (\n    <div className=\"space-y-3\">\n      <h2 className=\"text-xl font-semibold\">2. Describe issues (smart)</h2>\n\n      {rows.map((r, i) => (\n        <Card key={i} className=\"border\">\n          <CardContent className=\"grid grid-cols-1 md:grid-cols-4 gap-3 items-start py-4\">\n            <select\n              className=\"py-2 px-3 border rounded-md\"\n              value={r.problem}\n              onChange={(e) => updateRow(i, \"problem\", e.target.value)}\n            >\n              <option value=\"\">Select problem</option>\n              {problems.map((p: string) => (\n                <option key={p} value={p}>\n                  {p}\n                </option>\n              ))}\n            </select>\n\n            <Input\n              placeholder=\"Speed (e.g., 60 km/h)\"\n              value={r.speed}\n              onChange={(e) => updateRow(i, \"speed\", e.target.value)}\n            />\n\n            <Textarea\n              placeholder=\"Additional notes\"\n              value={r.notes}\n              onChange={(e) => updateRow(i, \"notes\", e.target.value)}\n            />\n\n            <div className=\"flex gap-2\">\n              <Button onClick={() => removeRow(i)} variant=\"destructive\">Remove</Button>\n              {i === rows.length - 1 && <Button onClick={addRow}>Add</Button>}\n            </div>\n          </CardContent>\n        </Card>\n      ))}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AAJA;;;;;;AAMe,SAAS,kBAAkB,EACxC,QAAQ,EACR,QAAQ,EACR,OAAO,EACP,IAAI,EACJ,SAAS,EACT,MAAM,EACN,SAAS,EASV;IACC,MAAM,WAAW,OAAO,CAAC,SAAS,CAAC,SAAS,CAAC,QAAQ,IAAI,EAAE;IAE3D,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BAAwB;;;;;;YAErC,KAAK,GAAG,CAAC,CAAC,GAAG,kBACZ,8OAAC,wIAAI;oBAAS,WAAU;8BACtB,cAAA,8OAAC,+IAAW;wBAAC,WAAU;;0CACrB,8OAAC;gCACC,WAAU;gCACV,OAAO,EAAE,OAAO;gCAChB,UAAU,CAAC,IAAM,UAAU,GAAG,WAAW,EAAE,MAAM,CAAC,KAAK;;kDAEvD,8OAAC;wCAAO,OAAM;kDAAG;;;;;;oCAChB,SAAS,GAAG,CAAC,CAAC,kBACb,8OAAC;4CAAe,OAAO;sDACpB;2CADU;;;;;;;;;;;0CAMjB,8OAAC,0IAAK;gCACJ,aAAY;gCACZ,OAAO,EAAE,KAAK;gCACd,UAAU,CAAC,IAAM,UAAU,GAAG,SAAS,EAAE,MAAM,CAAC,KAAK;;;;;;0CAGvD,8OAAC,gJAAQ;gCACP,aAAY;gCACZ,OAAO,EAAE,KAAK;gCACd,UAAU,CAAC,IAAM,UAAU,GAAG,SAAS,EAAE,MAAM,CAAC,KAAK;;;;;;0CAGvD,8OAAC;gCAAI,WAAU;;kDACb,8OAAC,4IAAM;wCAAC,SAAS,IAAM,UAAU;wCAAI,SAAQ;kDAAc;;;;;;oCAC1D,MAAM,KAAK,MAAM,GAAG,mBAAK,8OAAC,4IAAM;wCAAC,SAAS;kDAAQ;;;;;;;;;;;;;;;;;;mBA7B9C;;;;;;;;;;;AAoCnB"}},
    {"offset": {"line": 511, "column": 0}, "map": {"version":3,"sources":["file:///Users/anubhav/Desktop/Me/Projects/RoadMarshal_AI/frontend/src/app/query-builder/components/QueryPreview.tsx"],"sourcesContent":["import { Button } from \"@/components/ui/button\";\nimport { Card, CardContent } from \"@/components/ui/card\";\n\nexport default function QueryPreview({\n  query,\n  onSubmit,\n}: {\n  query: string;\n  onSubmit: () => void;\n}) {\n  return (\n    <div className=\"space-y-3\">\n      <h2 className=\"text-xl font-semibold\">3. Final Query Preview</h2>\n\n      <Card>\n        <CardContent>\n          <div className=\"text-sm text-zinc-700\">{query || \"No query yet.\"}</div>\n        </CardContent>\n      </Card>\n\n      <div className=\"flex gap-3\">\n        <Button onClick={onSubmit}>Run Analysis</Button>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAEe,SAAS,aAAa,EACnC,KAAK,EACL,QAAQ,EAIT;IACC,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BAAwB;;;;;;0BAEtC,8OAAC,wIAAI;0BACH,cAAA,8OAAC,+IAAW;8BACV,cAAA,8OAAC;wBAAI,WAAU;kCAAyB,SAAS;;;;;;;;;;;;;;;;0BAIrD,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC,4IAAM;oBAAC,SAAS;8BAAU;;;;;;;;;;;;;;;;;AAInC"}},
    {"offset": {"line": 642, "column": 0}, "map": {"version":3,"sources":["file:///Users/anubhav/Desktop/Me/Projects/RoadMarshal_AI/frontend/src/components/MarkdownRenderer.tsx"],"sourcesContent":["import ReactMarkdown from \"react-markdown\";\nimport remarkGfm from \"remark-gfm\";\n\nexport default function MarkdownRenderer({ content }: { content: string }) {\n  return (\n    <div className=\"prose prose-zinc max-w-none\">\n      <ReactMarkdown remarkPlugins={[remarkGfm]}>\n        {content}\n      </ReactMarkdown>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAEe,SAAS,iBAAiB,EAAE,OAAO,EAAuB;IACvE,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC,mMAAa;YAAC,eAAe;gBAAC,wJAAS;aAAC;sBACtC;;;;;;;;;;;AAIT"}},
    {"offset": {"line": 675, "column": 0}, "map": {"version":3,"sources":["file:///Users/anubhav/Desktop/Me/Projects/RoadMarshal_AI/frontend/src/app/query-builder/components/ResultView.tsx"],"sourcesContent":["// frontend/src/app/query-builder/components/ResultView.tsx\nimport MarkdownRenderer from \"@/components/MarkdownRenderer\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\n\nexport default function ResultView({ result }: { result: any }) {\n  const answer = result?.answer || result?.data?.answer || \"\";\n  return (\n    <div className=\"space-y-4\">\n      <Card className=\"border shadow-md\">\n        <CardHeader>\n          <CardTitle className=\"text-xl\">Analysis Result</CardTitle>\n        </CardHeader>\n\n        <CardContent>\n          <MarkdownRenderer content={answer} />\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n"],"names":[],"mappings":"AAAA,2DAA2D;;;;;;AAC3D;AACA;;;;AAEe,SAAS,WAAW,EAAE,MAAM,EAAmB;IAC5D,MAAM,SAAS,QAAQ,UAAU,QAAQ,MAAM,UAAU;IACzD,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC,wIAAI;YAAC,WAAU;;8BACd,8OAAC,8IAAU;8BACT,cAAA,8OAAC,6IAAS;wBAAC,WAAU;kCAAU;;;;;;;;;;;8BAGjC,8OAAC,+IAAW;8BACV,cAAA,8OAAC,iJAAgB;wBAAC,SAAS;;;;;;;;;;;;;;;;;;;;;;AAKrC"}},
    {"offset": {"line": 802, "column": 0}, "map": {"version":3,"sources":["file:///Users/anubhav/Desktop/Me/Projects/RoadMarshal_AI/frontend/src/app/api/backend.ts"],"sourcesContent":["import axios from \"axios\";\n\nconst API_BASE = \"http://localhost:8000\";\n\n\nexport interface CatalogResponse {\n  success: boolean;\n  catalog: any; \n}\n\nexport interface ProcessResponse {\n  success: boolean;\n  data?: {\n    answer: string;\n    retrieved: any[];\n  };\n  error?: string;\n}\n\nexport interface ParseResponse {\n  success: boolean;\n  parsed?: any;\n  raw?: string;\n  error?: string;\n}\n\n\nexport async function fetchCatalog(): Promise<any | null> {\n  const res = await axios.get<CatalogResponse>(`${API_BASE}/catalog`);\n\n  if (res.data.success && res.data.catalog) {\n    try {\n      return JSON.parse(res.data.catalog); \n    } catch {\n      return res.data.catalog; \n    }\n  }\n\n  return null;\n}\n\nexport async function sendQuery(text: string, top_k = 4): Promise<ProcessResponse> {\n  const res = await axios.post<ProcessResponse>(`${API_BASE}/process`, {\n    text,\n    top_k,\n  });\n\n  return res.data;\n}\n\nexport async function parseQuery(text: string): Promise<ParseResponse> {\n  const res = await axios.post<ParseResponse>(`${API_BASE}/parse`, { text });\n  return res.data;\n}\n"],"names":[],"mappings":";;;;;;;;AAAA;;AAEA,MAAM,WAAW;AAyBV,eAAe;IACpB,MAAM,MAAM,MAAM,gJAAK,CAAC,GAAG,CAAkB,GAAG,SAAS,QAAQ,CAAC;IAElE,IAAI,IAAI,IAAI,CAAC,OAAO,IAAI,IAAI,IAAI,CAAC,OAAO,EAAE;QACxC,IAAI;YACF,OAAO,KAAK,KAAK,CAAC,IAAI,IAAI,CAAC,OAAO;QACpC,EAAE,OAAM;YACN,OAAO,IAAI,IAAI,CAAC,OAAO;QACzB;IACF;IAEA,OAAO;AACT;AAEO,eAAe,UAAU,IAAY,EAAE,QAAQ,CAAC;IACrD,MAAM,MAAM,MAAM,gJAAK,CAAC,IAAI,CAAkB,GAAG,SAAS,QAAQ,CAAC,EAAE;QACnE;QACA;IACF;IAEA,OAAO,IAAI,IAAI;AACjB;AAEO,eAAe,WAAW,IAAY;IAC3C,MAAM,MAAM,MAAM,gJAAK,CAAC,IAAI,CAAgB,GAAG,SAAS,MAAM,CAAC,EAAE;QAAE;IAAK;IACxE,OAAO,IAAI,IAAI;AACjB"}},
    {"offset": {"line": 841, "column": 0}, "map": {"version":3,"sources":["file:///Users/anubhav/Desktop/Me/Projects/RoadMarshal_AI/frontend/src/app/query-builder/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport CategorySelector from \"./components/CategorySelector\";\nimport SmartSubQueryForm from \"./components/SmartSubQueryForm\";\nimport QueryPreview from \"./components/QueryPreview\";\nimport ResultView from \"./components/ResultView\";\nimport { sendQuery, fetchCatalog } from \"../api/backend\";\n\nexport default function QueryBuilderPage() {\n  const [catalog, setCatalog] = useState<Record<string, any> | null>(null);\n  const [category, setCategory] = useState<string | null>(null);\n  const [typeName, setTypeName] = useState<string | null>(null);\n  const [rows, setRows] = useState<any[]>([]); // each row: {problem, speed, notes}\n  const [finalQuery, setFinalQuery] = useState(\"\");\n  const [result, setResult] = useState<any>(null);\n  const [clausePreview, setClausePreview] = useState<string | null>(null);\n  const [customQuery, setCustomQuery] = useState(\"\");\nconst [useOnlyCustom, setUseOnlyCustom] = useState(false);\n\n\n  useEffect(() => {\n    fetchCatalog().then((c) => setCatalog(c));\n  }, []);\n\n  useEffect(() => {\n    // when user picks type, auto-populate first row with first problem if available\n    if (category && typeName && catalog) {\n      const problems = catalog[category]?.[typeName]?.problems || [];\n      setRows([{ problem: problems[0] || \"\", speed: \"\", notes: \"\" }]);\n      const standards = catalog[category]?.[typeName]?.standards || [];\n      setClausePreview(standards.length ? standards.join(\" ; \") : null);\n    }\n  }, [category, typeName, catalog]);\n\n  function updateRow(idx: number, field: string, value: string) {\n    const next = [...rows];\n    next[idx][field] = value;\n    setRows(next);\n    buildFinalQuery(next);\n  }\n\n  function addRow() {\n    setRows([...rows, { problem: \"\", speed: \"\", notes: \"\" }]);\n  }\n  function removeRow(idx: number) {\n    const next = rows.filter((_, i) => i !== idx);\n    setRows(next);\n    buildFinalQuery(next);\n  }\n\n  function buildFinalQuery(rRows: any[]) {\n  if (useOnlyCustom) {\n    setFinalQuery(customQuery);\n    return;\n  }\n\n  const auto = rRows\n    .map((r) => {\n      const typeText = typeName ?? category ?? \"\";\n      const problem = r.problem || \"\";\n      const speed = r.speed ? ` at ${r.speed}` : \"\";\n      const notes = r.notes ? ` (${r.notes})` : \"\";\n      return `${typeText} — ${problem}${speed}${notes}`;\n    })\n    .join(\"; \");\n\n  const merged = customQuery ? `${auto}. ${customQuery}` : auto;\n\n  setFinalQuery(merged);\n}\n\n\n  async function handleSubmit() {\n    // optional: refine using a small local template (or go straight to backend)\n    const response = await sendQuery(finalQuery, 4);\n    setResult(response.data);\n  }\n\n  if (!catalog) {\n    return <div className=\"p-8\">Loading catalog…</div>;\n  }\n\n  return (\n    <div className=\"p-10 max-w-6xl mx-auto space-y-6\">\n      <Card className=\"shadow-lg\">\n        <CardHeader>\n          <CardTitle>RoadMarshal AI — Smart Query Builder</CardTitle>\n        </CardHeader>\n        <CardContent className=\"space-y-6\">\n          <CategorySelector\n            catalog={catalog}\n            category={category}\n            setCategory={(c: string) => { setCategory(c); setTypeName(null); }}\n            typeName={typeName}\n            setTypeName={setTypeName}\n          />\n\n          {category && typeName && (\n            <>\n              <div className=\"space-y-3\">\n                <h3 className=\"text-lg font-semibold\">Quick clause preview</h3>\n                <div className=\"text-sm text-zinc-700\">\n                  {clausePreview ?? \"No clause info available for selected type.\"}\n                </div>\n              </div>\n\n              <SmartSubQueryForm\n                category={category}\n                typeName={typeName}\n                catalog={catalog}\n                rows={rows}\n                updateRow={updateRow}\n                addRow={addRow}\n                removeRow={removeRow}\n              />\n<div className=\"space-y-3\">\n  <h2 className=\"text-xl font-semibold\">Optional: Add Your Custom Notes / Query</h2>\n\n  <Textarea\n    placeholder=\"Add additional description, context, or a fully custom query...\"\n    value={customQuery}\n    onChange={(e) => {\n      setCustomQuery(e.target.value);\n      buildFinalQuery(rows);\n    }}\n  />\n\n  <label className=\"flex items-center gap-2 text-sm\">\n    <input\n      type=\"checkbox\"\n      checked={useOnlyCustom}\n      onChange={(e) => {\n        setUseOnlyCustom(e.target.checked);\n        buildFinalQuery(rows);\n      }}\n    />\n    Use only my custom query (ignore auto-generated fields)\n  </label>\n</div>\n\n              <QueryPreview query={finalQuery} onSubmit={handleSubmit} />\n            </>\n          )}\n        </CardContent>\n      </Card>\n\n      {result && (\n        <Card className=\"shadow-md\">\n          <CardContent>\n            <ResultView result={result} />\n          </CardContent>\n        </Card>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}